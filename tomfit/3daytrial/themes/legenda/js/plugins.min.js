function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}(function(e){e.flexslider=function(t,n){var r=e(t);r.vars=e.extend({},e.flexslider.defaults,n);var i=r.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&r.vars.touch,u="click touchend MSPointerUp",a="",f,l=r.vars.direction==="vertical",c=r.vars.reverse,h=r.vars.itemWidth>0,p=r.vars.animation==="fade",d=r.vars.asNavFor!=="",v={},m=true;e.data(t,"flexslider",r);v={init:function(){r.animating=false;r.currentSlide=parseInt(r.vars.startAt?r.vars.startAt:0);if(isNaN(r.currentSlide))r.currentSlide=0;r.animatingTo=r.currentSlide;r.atEnd=r.currentSlide===0||r.currentSlide===r.last;r.containerSelector=r.vars.selector.substr(0,r.vars.selector.search(" "));r.slides=e(r.vars.selector,r);r.container=e(r.containerSelector,r);r.count=r.slides.length;r.syncExists=e(r.vars.sync).length>0;if(r.vars.animation==="slide")r.vars.animation="swing";r.prop=l?"top":"marginLeft";r.args={};r.manualPause=false;r.stopped=false;r.started=false;r.startTimeout=null;r.transitions=!r.vars.video&&!p&&r.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t){if(e.style[t[n]]!==undefined){r.pfx=t[n].replace("Perspective","").toLowerCase();r.prop="-"+r.pfx+"-transform";return true}}return false}();if(r.vars.controlsContainer!=="")r.controlsContainer=e(r.vars.controlsContainer).length>0&&e(r.vars.controlsContainer);if(r.vars.manualControls!=="")r.manualControls=e(r.vars.manualControls).length>0&&e(r.vars.manualControls);if(r.vars.randomize){r.slides.sort(function(){return Math.round(Math.random())-.5});r.container.empty().append(r.slides)}r.doMath();r.setup("init");if(r.vars.controlNav)v.controlNav.setup();if(r.vars.directionNav)v.directionNav.setup();if(r.vars.keyboard&&(e(r.containerSelector).length===1||r.vars.multipleKeyboard)){e(document).bind("keyup",function(e){var t=e.keyCode;if(!r.animating&&(t===39||t===37)){var n=t===39?r.getTarget("next"):t===37?r.getTarget("prev"):false;r.flexAnimate(n,r.vars.pauseOnAction)}})}if(r.vars.mousewheel){r.bind("mousewheel",function(e,t,n,i){e.preventDefault();var s=t<0?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(s,r.vars.pauseOnAction)})}if(r.vars.pausePlay)v.pausePlay.setup();if(r.vars.slideshow&&r.vars.pauseInvisible)v.pauseInvisible.init();if(r.vars.slideshow){if(r.vars.pauseOnHover){r.hover(function(){if(!r.manualPlay&&!r.manualPause)r.pause()},function(){if(!r.manualPause&&!r.manualPlay&&!r.stopped)r.play()})}if(!r.vars.pauseInvisible||!v.pauseInvisible.isHidden()){r.vars.initDelay>0?r.startTimeout=setTimeout(r.play,r.vars.initDelay):r.play()}}if(d)v.asNav.setup();if(o&&r.vars.touch)v.touch();if(!p||p&&r.vars.smoothHeight)e(window).bind("resize orientationchange focus",v.resize);r.find("img").attr("draggable","false");setTimeout(function(){r.vars.start(r)},200)},asNav:{setup:function(){r.asNav=true;r.animatingTo=Math.floor(r.currentSlide/r.move);r.currentItem=r.currentSlide;r.slides.removeClass(i+"active-slide").eq(r.currentItem).addClass(i+"active-slide");if(!s){r.slides.click(function(t){t.preventDefault();var n=e(this),s=n.index();var o=n.offset().left-e(r).scrollLeft();if(o<=0&&n.hasClass(i+"active-slide")){r.flexAnimate(r.getTarget("prev"),true)}else if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass(i+"active-slide")){r.direction=r.currentItem<s?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction,false,true,true)}})}else{t._slider=r;r.slides.each(function(){var t=this;t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",function(e){e.preventDefault();if(e.currentTarget._gesture)e.currentTarget._gesture.addPointer(e.pointerId)},false);t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),i=n.index();if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass("active")){r.direction=r.currentItem<i?"next":"prev";r.flexAnimate(i,r.vars.pauseOnAction,false,true,true)}})})}}},controlNav:{setup:function(){if(!r.manualControls){v.controlNav.setupPaging()}else{v.controlNav.setupManual()}},setupPaging:function(){var t=r.vars.controlNav==="thumbnails"?"control-thumbs":"control-paging",n=1,s,o;r.controlNavScaffold=e('<ol class="'+i+"control-nav "+i+t+'"></ol>');if(r.pagingCount>1){for(var f=0;f<r.pagingCount;f++){o=r.slides.eq(f);s=r.vars.controlNav==="thumbnails"?'<img src="'+o.attr("data-thumb")+'"/>':"<a>"+n+"</a>";if("thumbnails"===r.vars.controlNav&&true===r.vars.thumbCaptions){var l=o.attr("data-thumbcaption");if(""!=l&&undefined!=l)s+='<span class="'+i+'caption">'+l+"</span>"}r.controlNavScaffold.append("<li>"+s+"</li>");n++}}r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold);v.controlNav.set();v.controlNav.active();r.controlNavScaffold.delegate("a, img",u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){r.direction=s>r.currentSlide?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction)}}if(a===""){a=t.type}v.setToClearWatchedEvent()})},setupManual:function(){r.controlNav=r.manualControls;v.controlNav.active();r.controlNav.bind(u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){s>r.currentSlide?r.direction="next":r.direction="prev";r.flexAnimate(s,r.vars.pauseOnAction)}}if(a===""){a=t.type}v.setToClearWatchedEvent()})},set:function(){var t=r.vars.controlNav==="thumbnails"?"img":"a";r.controlNav=e("."+i+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(i+"active").eq(r.animatingTo).addClass(i+"active")},update:function(t,n){if(r.pagingCount>1&&t==="add"){r.controlNavScaffold.append(e("<li><a>"+r.count+"</a></li>"))}else if(r.pagingCount===1){r.controlNavScaffold.find("li").remove()}else{r.controlNav.eq(n).closest("li").remove()}v.controlNav.set();r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,t):v.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+i+'direction-nav"><li><a class="'+i+'prev" href="#">'+r.vars.prevText+'</a></li><li><a class="'+i+'next" href="#">'+r.vars.nextText+"</a></li></ul>");if(r.controlsContainer){e(r.controlsContainer).append(t);r.directionNav=e("."+i+"direction-nav li a",r.controlsContainer)}else{r.append(t);r.directionNav=e("."+i+"direction-nav li a",r)}v.directionNav.update();r.directionNav.bind(u,function(t){t.preventDefault();var n;if(a===""||a===t.type){n=e(this).hasClass(i+"next")?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(n,r.vars.pauseOnAction)}if(a===""){a=t.type}v.setToClearWatchedEvent()})},update:function(){var e=i+"disabled";if(r.pagingCount===1){r.directionNav.addClass(e).attr("tabindex","-1")}else if(!r.vars.animationLoop){if(r.animatingTo===0){r.directionNav.removeClass(e).filter("."+i+"prev").addClass(e).attr("tabindex","-1")}else if(r.animatingTo===r.last){r.directionNav.removeClass(e).filter("."+i+"next").addClass(e).attr("tabindex","-1")}else{r.directionNav.removeClass(e).removeAttr("tabindex")}}else{r.directionNav.removeClass(e).removeAttr("tabindex")}}},pausePlay:{setup:function(){var t=e('<div class="'+i+'pauseplay"><a></a></div>');if(r.controlsContainer){r.controlsContainer.append(t);r.pausePlay=e("."+i+"pauseplay a",r.controlsContainer)}else{r.append(t);r.pausePlay=e("."+i+"pauseplay a",r)}v.pausePlay.update(r.vars.slideshow?i+"pause":i+"play");r.pausePlay.bind(u,function(t){t.preventDefault();if(a===""||a===t.type){if(e(this).hasClass(i+"pause")){r.manualPause=true;r.manualPlay=false;r.pause()}else{r.manualPause=false;r.manualPlay=true;r.play()}}if(a===""){a=t.type}v.setToClearWatchedEvent()})},update:function(e){e==="play"?r.pausePlay.removeClass(i+"pause").addClass(i+"play").html(r.vars.playText):r.pausePlay.removeClass(i+"play").addClass(i+"pause").html(r.vars.pauseText)}},touch:function(){var e,n,i,o,u,a,f=false,d=0,v=0,m=0;if(!s){t.addEventListener("touchstart",g,false);function g(s){if(r.animating){s.preventDefault()}else if(window.navigator.msPointerEnabled||s.touches.length===1){r.pause();o=l?r.h:r.w;a=Number(new Date);d=s.touches[0].pageX;v=s.touches[0].pageY;i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o;e=l?v:d;n=l?d:v;t.addEventListener("touchmove",y,false);t.addEventListener("touchend",b,false)}}function y(t){d=t.touches[0].pageX;v=t.touches[0].pageY;u=l?e-v:e-d;f=l?Math.abs(u)<Math.abs(d-n):Math.abs(u)<Math.abs(v-n);var s=500;if(!f||Number(new Date)-a>s){t.preventDefault();if(!p&&r.transitions){if(!r.vars.animationLoop){u=u/(r.currentSlide===0&&u<0||r.currentSlide===r.last&&u>0?Math.abs(u)/o+2:1)}r.setProps(i+u,"setTouch")}}}function b(s){t.removeEventListener("touchmove",y,false);if(r.animatingTo===r.currentSlide&&!f&&!(u===null)){var l=c?-u:u,h=l>0?r.getTarget("next"):r.getTarget("prev");if(r.canAdvance(h)&&(Number(new Date)-a<550&&Math.abs(l)>50||Math.abs(l)>o/2)){r.flexAnimate(h,r.vars.pauseOnAction)}else{if(!p)r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,true)}}t.removeEventListener("touchend",b,false);e=null;n=null;u=null;i=null}}else{t.style.msTouchAction="none";t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",w,false);t._slider=r;t.addEventListener("MSGestureChange",E,false);t.addEventListener("MSGestureEnd",S,false);function w(e){e.stopPropagation();if(r.animating){e.preventDefault()}else{r.pause();t._gesture.addPointer(e.pointerId);m=0;o=l?r.h:r.w;a=Number(new Date);i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o}}function E(e){e.stopPropagation();var n=e.target._slider;if(!n){return}var r=-e.translationX,s=-e.translationY;m=m+(l?s:r);u=m;f=l?Math.abs(m)<Math.abs(-r):Math.abs(m)<Math.abs(-s);if(e.detail===e.MSGESTURE_FLAG_INERTIA){setImmediate(function(){t._gesture.stop()});return}if(!f||Number(new Date)-a>500){e.preventDefault();if(!p&&n.transitions){if(!n.vars.animationLoop){u=m/(n.currentSlide===0&&m<0||n.currentSlide===n.last&&m>0?Math.abs(m)/o+2:1)}n.setProps(i+u,"setTouch")}}}function S(t){t.stopPropagation();var r=t.target._slider;if(!r){return}if(r.animatingTo===r.currentSlide&&!f&&!(u===null)){var s=c?-u:u,l=s>0?r.getTarget("next"):r.getTarget("prev");if(r.canAdvance(l)&&(Number(new Date)-a<550&&Math.abs(s)>50||Math.abs(s)>o/2)){r.flexAnimate(l,r.vars.pauseOnAction)}else{if(!p)r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,true)}}e=null;n=null;u=null;i=null;m=0}}},resize:function(){if(!r.animating&&r.is(":visible")){if(!h)r.doMath();if(p){v.smoothHeight()}else if(h){r.slides.width(r.computedW);r.update(r.pagingCount);r.setProps()}else if(l){r.viewport.height(r.h);r.setProps(r.h,"setTotal")}else{if(r.vars.smoothHeight)v.smoothHeight();r.newSlides.width(r.computedW);r.setProps(r.computedW,"setTotal")}}},smoothHeight:function(e){if(!l||p){var t=p?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(r.vars.sync).data("flexslider"),i=r.animatingTo;switch(t){case"animate":n.flexAnimate(i,r.vars.pauseOnAction,false,true);break;case"play":if(!n.playing&&!n.asNav){n.play()}break;case"pause":n.pause();break}},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++){if(e[t]+"Hidden"in document)v.pauseInvisible.visProp=e[t]+"Hidden"}if(v.pauseInvisible.visProp){var n=v.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){if(v.pauseInvisible.isHidden()){if(r.startTimeout)clearTimeout(r.startTimeout);else r.pause()}else{if(r.started)r.play();else r.vars.initDelay>0?setTimeout(r.play,r.vars.initDelay):r.play()}})}},isHidden:function(){return document[v.pauseInvisible.visProp]||false}},setToClearWatchedEvent:function(){clearTimeout(f);f=setTimeout(function(){a=""},3e3)}};r.flexAnimate=function(t,n,s,u,a){if(!r.vars.animationLoop&&t!==r.currentSlide){r.direction=t>r.currentSlide?"next":"prev"}if(d&&r.pagingCount===1)r.direction=r.currentItem<t?"next":"prev";if(!r.animating&&(r.canAdvance(t,a)||s)&&r.is(":visible")){if(d&&u){var f=e(r.vars.asNavFor).data("flexslider");r.atEnd=t===0||t===r.count-1;f.flexAnimate(t,true,false,true,a);r.direction=r.currentItem<t?"next":"prev";f.direction=r.direction;if(Math.ceil((t+1)/r.visible)-1!==r.currentSlide&&t!==0){r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");t=Math.floor(t/r.visible)}else{r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");return false}}r.animating=true;r.animatingTo=t;if(n)r.pause();r.vars.before(r);if(r.syncExists&&!a)v.sync("animate");if(r.vars.controlNav)v.controlNav.active();if(!h)r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");r.atEnd=t===0||t===r.last;if(r.vars.directionNav)v.directionNav.update();if(t===r.last){r.vars.end(r);if(!r.vars.animationLoop)r.pause()}if(!p){var m=l?r.slides.filter(":first").height():r.computedW,g,y,b;if(h){g=r.vars.itemMargin;b=(r.itemW+g)*r.move*r.animatingTo;y=b>r.limit&&r.visible!==1?r.limit:b}else if(r.currentSlide===0&&t===r.count-1&&r.vars.animationLoop&&r.direction!=="next"){y=c?(r.count+r.cloneOffset)*m:0}else if(r.currentSlide===r.last&&t===0&&r.vars.animationLoop&&r.direction!=="prev"){y=c?0:(r.count+1)*m}else{y=c?(r.count-1-t+r.cloneOffset)*m:(t+r.cloneOffset)*m}r.setProps(y,"",r.vars.animationSpeed);if(r.transitions){if(!r.vars.animationLoop||!r.atEnd){r.animating=false;r.currentSlide=r.animatingTo}r.container.unbind("webkitTransitionEnd transitionend");r.container.bind("webkitTransitionEnd transitionend",function(){r.wrapup(m)})}else{r.container.animate(r.args,r.vars.animationSpeed,r.vars.easing,function(){r.wrapup(m)})}}else{if(!o){r.slides.eq(r.currentSlide).css({zIndex:1}).animate({opacity:0},r.vars.animationSpeed,r.vars.easing);r.slides.eq(t).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing,r.wrapup)}else{r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1});r.slides.eq(t).css({opacity:1,zIndex:2});r.wrapup(m)}}if(r.vars.smoothHeight)v.smoothHeight(r.vars.animationSpeed)}};r.wrapup=function(e){if(!p&&!h){if(r.currentSlide===0&&r.animatingTo===r.last&&r.vars.animationLoop){r.setProps(e,"jumpEnd")}else if(r.currentSlide===r.last&&r.animatingTo===0&&r.vars.animationLoop){r.setProps(e,"jumpStart")}}r.animating=false;r.currentSlide=r.animatingTo;r.vars.after(r)};r.animateSlides=function(){if(!r.animating&&m)r.flexAnimate(r.getTarget("next"))};r.pause=function(){clearInterval(r.animatedSlides);r.animatedSlides=null;r.playing=false;if(r.vars.pausePlay)v.pausePlay.update("play");if(r.syncExists)v.sync("pause")};r.play=function(){if(r.playing)clearInterval(r.animatedSlides);r.animatedSlides=r.animatedSlides||setInterval(r.animateSlides,r.vars.slideshowSpeed);r.started=r.playing=true;if(r.vars.pausePlay)v.pausePlay.update("pause");if(r.syncExists)v.sync("play")};r.stop=function(){r.pause();r.stopped=true};r.canAdvance=function(e,t){var n=d?r.pagingCount-1:r.last;return t?true:d&&r.currentItem===r.count-1&&e===0&&r.direction==="prev"?true:d&&r.currentItem===0&&e===r.pagingCount-1&&r.direction!=="next"?false:e===r.currentSlide&&!d?false:r.vars.animationLoop?true:r.atEnd&&r.currentSlide===0&&e===n&&r.direction!=="next"?false:r.atEnd&&r.currentSlide===n&&e===0&&r.direction==="next"?false:true};r.getTarget=function(e){r.direction=e;if(e==="next"){return r.currentSlide===r.last?0:r.currentSlide+1}else{return r.currentSlide===0?r.last:r.currentSlide-1}};r.setProps=function(e,t,n){var i=function(){var n=e?e:(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo,i=function(){if(h){return t==="setTouch"?e:c&&r.animatingTo===r.last?0:c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:n}else{switch(t){case"setTotal":return c?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return c?e:e;case"jumpEnd":return c?e:r.count*e;case"jumpStart":return c?r.count*e:e;default:return e}}}();return i*-1+"px"}();if(r.transitions){i=l?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)";n=n!==undefined?n/1e3+"s":"0s";r.container.css("-"+r.pfx+"-transition-duration",n)}r.args[r.prop]=i;if(r.transitions||n===undefined)r.container.css(r.args)};r.setup=function(t){if(!p){var n,s;if(t==="init"){r.viewport=e('<div class="'+i+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container);r.cloneCount=0;r.cloneOffset=0;if(c){s=e.makeArray(r.slides).reverse();r.slides=e(s);r.container.empty().append(r.slides)}}if(r.vars.animationLoop&&!h){r.cloneCount=2;r.cloneOffset=1;if(t!=="init")r.container.find(".clone").remove();r.container.append(r.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(r.slides.last().clone().addClass("clone").attr("aria-hidden","true"))}r.newSlides=e(r.vars.selector,r);n=c?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset;if(l&&!h){r.container.height((r.count+r.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){r.newSlides.css({display:"block"});r.doMath();r.viewport.height(r.h);r.setProps(n*r.h,"init")},t==="init"?100:0)}else{r.container.width((r.count+r.cloneCount)*200+"%");r.setProps(n*r.computedW,"init");setTimeout(function(){r.doMath();r.newSlides.css({width:r.computedW,"float":"left",display:"block"});if(r.vars.smoothHeight)v.smoothHeight()},t==="init"?100:0)}}else{r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});if(t==="init"){if(!o){r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing)}else{r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+r.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2})}}if(r.vars.smoothHeight)v.smoothHeight()}if(!h)r.slides.removeClass(i+"active-slide").eq(r.currentSlide).addClass(i+"active-slide")};r.doMath=function(){var e=r.slides.first(),t=r.vars.itemMargin,n=r.vars.minItems,i=r.vars.maxItems;r.w=r.viewport===undefined?r.width():r.viewport.width();r.h=e.height();r.boxPadding=e.outerWidth()-e.width();if(h){r.itemT=r.vars.itemWidth+t;r.minW=n?n*r.itemT:r.w;r.maxW=i?i*r.itemT-t:r.w;r.itemW=r.minW>r.w?(r.w-t*(n-1))/n:r.maxW<r.w?(r.w-t*(i-1))/i:r.vars.itemWidth>r.w?r.w:r.vars.itemWidth;r.visible=Math.floor(r.w/r.itemW);r.move=r.vars.move>0&&r.vars.move<r.visible?r.vars.move:r.visible;r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1);r.last=r.pagingCount-1;r.limit=r.pagingCount===1?0:r.vars.itemWidth>r.w?r.itemW*(r.count-1)+t*(r.count-1):(r.itemW+t)*r.count-r.w-t}else{r.itemW=r.w;r.pagingCount=r.count;r.last=r.count-1}r.computedW=r.itemW-r.boxPadding};r.update=function(e,t){r.doMath();if(!h){if(e<r.currentSlide){r.currentSlide+=1}else if(e<=r.currentSlide&&e!==0){r.currentSlide-=1}r.animatingTo=r.currentSlide}if(r.vars.controlNav&&!r.manualControls){if(t==="add"&&!h||r.pagingCount>r.controlNav.length){v.controlNav.update("add")}else if(t==="remove"&&!h||r.pagingCount<r.controlNav.length){if(h&&r.currentSlide>r.last){r.currentSlide-=1;r.animatingTo-=1}v.controlNav.update("remove",r.last)}}if(r.vars.directionNav)v.directionNav.update()};r.addSlide=function(t,n){var i=e(t);r.count+=1;r.last=r.count-1;if(l&&c){n!==undefined?r.slides.eq(r.count-n).after(i):r.container.prepend(i)}else{n!==undefined?r.slides.eq(n).before(i):r.container.append(i)}r.update(n,"add");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.added(r)};r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1;r.last=r.count-1;if(isNaN(t)){e(t,r.slides).remove()}else{l&&c?r.slides.eq(r.last).remove():r.slides.eq(t).remove()}r.doMath();r.update(n,"remove");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.removed(r)};v.init()};e(window).blur(function(e){focused=false}).focus(function(e){focused=true});e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:false,thumbCaptions:false,pauseOnAction:true,pauseOnHover:false,pauseInvisible:true,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:true,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};e.fn.flexslider=function(t){if(t===undefined)t={};if(typeof t==="object"){return this.each(function(){var n=e(this),r=t.selector?t.selector:".slides > li",i=n.find(r);if(i.length===1&&t.allowOneSlide===true||i.length===0){i.fadeIn(400);if(t.start)t.start(n)}else if(n.data("flexslider")===undefined){new e.flexslider(this,t)}})}else{var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),true);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),true);break;default:if(typeof t==="number")n.flexAnimate(t,true)}}}})(jQuery);(function(e,t,n){"use strict";var r=t.Modernizr;var i={};var s={_init:function(t){s.$el=e(this);s.options=e.extend(true,{custom:false,modalIdAttribute:"modal-id",hiddeBtnID:"hideemodal"},t);s._config();s.$el.click(function(e){});return this},_config:function(){var t=s.$el.data(s.options.modalIdAttribute);i.modal=e("#"+t);return this},showModal:function(){s.baseHtml();s.startLoading();i.overlay.addClass("shown");i.html.addClass("shown");return this},hideModal:function(){i.overlay.removeClass("shown");i.html.removeClass("shown");setTimeout(function(){s.destroy()},300);return this},setHideEvent:function(){i.overlay.click(function(e){s.hideModal()});i.closeBtnHtml.click(function(e){s.hideModal()});var t=e("#"+s.options.hiddeBtnID);t.click(function(e){s.hideModal()})},setHTML:function(e){i.html.html(e);return this},setTitle:function(e){i.modalTitle.text(e);return this},addText:function(e){i.modalText.append(e);return this},addError:function(e){i.modalText.append('<p class="error-msg">'+e+"</p>");i.modalTitle.text("ERROR");return this},addImage:function(e){i.html.addClass("with-image");i.modalImage=jQuery('<img src="'+e+'" />').appendTo(i.html);return this},addBtn:function(t){t=e.extend(true,{href:"",cssClass:"",onclick:"",id:"",title:"",hideOnClick:false},t);i.modalBtn=jQuery('<a href="'+t.href+'" id="'+t.id+'" class="'+t.cssClass+'" onclick="'+t.onclick+'"><span>'+t.title+"</span></a>").appendTo(i.modalText);if(t.hideOnClick){i.modalBtn.click(function(){s.hideModal()})}return this},startLoading:function(){i.html.addClass("eloading");return this},endLoading:function(){i.html.removeClass("eloading");return this},baseHtml:function(){i.overlay=jQuery('<div class="emodal-overlay"></div>');i.html=jQuery('<div class="emodal" id="base-modal"><div class="emodal-border"></div></div>');i.modalText=jQuery('<div class="emodal-text"></div>').prependTo(i.html);i.modalTitle=jQuery('<h5 class="emodal-title"></h5>').prependTo(i.modalText);i.closeBtnHtml=jQuery('<div class="close-modal"><i class="icon-remove"></i></div>').prependTo(i.html);if(r.csstransforms){i.overlay.addClass("with-transforms");i.html.addClass("with-transforms")}if(r.csstransitions){i.overlay.addClass("with-transitions");i.html.addClass("with-transitions")}e("body").prepend(i.overlay);e("body").prepend(i.html);s.setHideEvent();return this},destroy:function(){i.overlay.remove();i.html.remove();return this}};e.fn.eModal=function(t){if(s[t]){return s[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return s._init.apply(this,arguments)}else{e.error("invalid method call!")}};var o=function(e){if(t.console){t.console.error(e)}}})(jQuery,window);(function(e){var t="Close",n="BeforeClose",r="AfterClose",i="BeforeAppend",s="MarkupParse",o="Open",u="Change",a="mfp",f="."+a,l="mfp-ready",c="mfp-removing",h="mfp-prevent-close";var p,d=function(){},v=!!window.jQuery,m,g=e(window),y,b,w,E,S;var x=function(e,t){p.ev.on(a+e+f,t)},T=function(t,n,r,i){var s=document.createElement("div");s.className="mfp-"+t;if(r){s.innerHTML=r}if(!i){s=e(s);if(n){s.appendTo(n)}}else if(n){n.appendChild(s)}return s},N=function(t,n){p.ev.triggerHandler(a+t,n);if(p.st.callbacks){t=t.charAt(0).toLowerCase()+t.slice(1);if(p.st.callbacks[t]){p.st.callbacks[t].apply(p,e.isArray(n)?n:[n])}}},C=function(t){if(t!==S||!p.currTemplate.closeBtn){p.currTemplate.closeBtn=e(p.st.closeMarkup.replace("%title%",p.st.tClose));S=t}return p.currTemplate.closeBtn},k=function(){if(!e.magnificPopup.instance){p=new d;p.init();e.magnificPopup.instance=p}},L=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(e["transition"]!==undefined){return true}while(t.length){if(t.pop()+"Transition"in e){return true}}return false};d.prototype={constructor:d,init:function(){var t=navigator.appVersion;p.isIE7=t.indexOf("MSIE 7.")!==-1;p.isIE8=t.indexOf("MSIE 8.")!==-1;p.isLowIE=p.isIE7||p.isIE8;p.isAndroid=/android/gi.test(t);p.isIOS=/iphone|ipad|ipod/gi.test(t);p.supportsTransition=L();p.probablyMobile=p.isAndroid||p.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);y=e(document.body);b=e(document);p.popupsCache={}},open:function(t){var n;if(t.isObj===false){p.items=t.items.toArray();p.index=0;var r=t.items,i;for(n=0;n<r.length;n++){i=r[n];if(i.parsed){i=i.el[0]}if(i===t.el[0]){p.index=n;break}}}else{p.items=e.isArray(t.items)?t.items:[t.items];p.index=t.index||0}if(p.isOpen){p.updateItemHTML();return}p.types=[];E="";if(t.mainEl&&t.mainEl.length){p.ev=t.mainEl.eq(0)}else{p.ev=b}if(t.key){if(!p.popupsCache[t.key]){p.popupsCache[t.key]={}}p.currTemplate=p.popupsCache[t.key]}else{p.currTemplate={}}p.st=e.extend(true,{},e.magnificPopup.defaults,t);p.fixedContentPos=p.st.fixedContentPos==="auto"?!p.probablyMobile:p.st.fixedContentPos;if(p.st.modal){p.st.closeOnContentClick=false;p.st.closeOnBgClick=false;p.st.showCloseBtn=false;p.st.enableEscapeKey=false}if(!p.bgOverlay){p.bgOverlay=T("bg").on("click"+f,function(){p.close()});p.wrap=T("wrap").attr("tabindex",-1).on("click"+f,function(e){if(p._checkIfClose(e.target)){p.close()}});p.container=T("container",p.wrap)}p.contentContainer=T("content");if(p.st.preloader){p.preloader=T("preloader",p.container,p.st.tLoading)}var u=e.magnificPopup.modules;for(n=0;n<u.length;n++){var a=u[n];a=a.charAt(0).toUpperCase()+a.slice(1);p["init"+a].call(p)}N("BeforeOpen");if(p.st.showCloseBtn){if(!p.st.closeBtnInside){p.wrap.append(C())}else{x(s,function(e,t,n,r){n.close_replaceWith=C(r.type)});E+=" mfp-close-btn-in"}}if(p.st.alignTop){E+=" mfp-align-top"}if(p.fixedContentPos){p.wrap.css({overflow:p.st.overflowY,overflowX:"hidden",overflowY:p.st.overflowY})}else{p.wrap.css({top:g.scrollTop(),position:"absolute"})}if(p.st.fixedBgPos===false||p.st.fixedBgPos==="auto"&&!p.fixedContentPos){p.bgOverlay.css({height:b.height(),position:"absolute"})}if(p.st.enableEscapeKey){b.on("keyup"+f,function(e){if(e.keyCode===27){p.close()}})}g.on("resize"+f,function(){p.updateSize()});if(!p.st.closeOnContentClick){E+=" mfp-auto-cursor"}if(E)p.wrap.addClass(E);var c=p.wH=g.height();var h={};if(p.fixedContentPos){if(p._hasScrollBar(c)){var d=p._getScrollbarSize();if(d){h.marginRight=d}}}if(p.fixedContentPos){if(!p.isIE7){h.overflow="hidden"}else{e("body, html").css("overflow","hidden")}}var v=p.st.mainClass;if(p.isIE7){v+=" mfp-ie7"}if(v){p._addClassToMFP(v)}p.updateItemHTML();N("BuildControls");e("html").css(h);p.bgOverlay.add(p.wrap).prependTo(document.body);p._lastFocusedEl=document.activeElement;setTimeout(function(){if(p.content){p._addClassToMFP(l);p._setFocus()}else{p.bgOverlay.addClass(l)}b.on("focusin"+f,p._onFocusIn)},16);p.isOpen=true;p.updateSize(c);N(o);return t},close:function(){if(!p.isOpen)return;N(n);p.isOpen=false;if(p.st.removalDelay&&!p.isLowIE&&p.supportsTransition){p._addClassToMFP(c);setTimeout(function(){p._close()},p.st.removalDelay)}else{p._close()}},_close:function(){N(t);var n=c+" "+l+" ";p.bgOverlay.detach();p.wrap.detach();p.container.empty();if(p.st.mainClass){n+=p.st.mainClass+" "}p._removeClassFromMFP(n);if(p.fixedContentPos){var i={marginRight:""};if(p.isIE7){e("body, html").css("overflow","")}else{i.overflow=""}e("html").css(i)}b.off("keyup"+f+" focusin"+f);p.ev.off(f);p.wrap.attr("class","mfp-wrap").removeAttr("style");p.bgOverlay.attr("class","mfp-bg");p.container.attr("class","mfp-container");if(p.st.showCloseBtn&&(!p.st.closeBtnInside||p.currTemplate[p.currItem.type]===true)){if(p.currTemplate.closeBtn)p.currTemplate.closeBtn.detach()}if(p._lastFocusedEl){e(p._lastFocusedEl).focus()}p.currItem=null;p.content=null;p.currTemplate=null;p.prevHeight=0;N(r)},updateSize:function(e){if(p.isIOS){var t=document.documentElement.clientWidth/window.innerWidth;var n=window.innerHeight*t;p.wrap.css("height",n);p.wH=n}else{p.wH=e||g.height()}if(!p.fixedContentPos){p.wrap.css("height",p.wH)}N("Resize")},updateItemHTML:function(){var t=p.items[p.index];p.contentContainer.detach();if(p.content)p.content.detach();if(!t.parsed){t=p.parseEl(p.index)}var n=t.type;N("BeforeChange",[p.currItem?p.currItem.type:"",n]);p.currItem=t;if(!p.currTemplate[n]){var r=p.st[n]?p.st[n].markup:false;N("FirstMarkupParse",r);if(r){p.currTemplate[n]=e(r)}else{p.currTemplate[n]=true}}if(w&&w!==t.type){p.container.removeClass("mfp-"+w+"-holder")}var i=p["get"+n.charAt(0).toUpperCase()+n.slice(1)](t,p.currTemplate[n]);p.appendContent(i,n);t.preloaded=true;N(u,t);w=t.type;p.container.prepend(p.contentContainer);N("AfterChange")},appendContent:function(e,t){p.content=e;if(e){if(p.st.showCloseBtn&&p.st.closeBtnInside&&p.currTemplate[t]===true){if(!p.content.find(".mfp-close").length){p.content.append(C())}}else{p.content=e}}else{p.content=""}N(i);p.container.addClass("mfp-"+t+"-holder");p.contentContainer.append(p.content)},parseEl:function(t){var n=p.items[t],r=n.type;if(n.tagName){n={el:e(n)}}else{n={data:n,src:n.src}}if(n.el){var i=p.types;for(var s=0;s<i.length;s++){if(n.el.hasClass("mfp-"+i[s])){r=i[s];break}}n.src=n.el.attr("data-mfp-src");if(!n.src){n.src=n.el.attr("href")}}n.type=r||p.st.type||"inline";n.index=t;n.parsed=true;p.items[t]=n;N("ElementParse",n);return p.items[t]},addGroup:function(e,t){var n=function(n){n.mfpEl=this;p._openClick(n,e,t)};if(!t){t={}}var r="click.magnificPopup";t.mainEl=e;if(t.items){t.isObj=true;e.off(r).on(r,n)}else{t.isObj=false;if(t.delegate){e.off(r).on(r,t.delegate,n)}else{t.items=e;e.off(r).on(r,n)}}},_openClick:function(t,n,r){var i=r.midClick!==undefined?r.midClick:e.magnificPopup.defaults.midClick;if(!i&&(t.which===2||t.ctrlKey||t.metaKey)){return}var s=r.disableOn!==undefined?r.disableOn:e.magnificPopup.defaults.disableOn;if(s){if(e.isFunction(s)){if(!s.call(p)){return true}}else{if(g.width()<s){return true}}}if(t.type){t.preventDefault();if(p.isOpen){t.stopPropagation()}}r.el=e(t.mfpEl);if(r.delegate){r.items=n.find(r.delegate)}p.open(r)},updateStatus:function(e,t){if(p.preloader){if(m!==e){p.container.removeClass("mfp-s-"+m)}if(!t&&e==="loading"){t=p.st.tLoading}var n={status:e,text:t};N("UpdateStatus",n);e=n.status;t=n.text;p.preloader.html(t);p.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()});p.container.addClass("mfp-s-"+e);m=e}},_checkIfClose:function(t){if(e(t).hasClass(h)){return}var n=p.st.closeOnContentClick;var r=p.st.closeOnBgClick;if(n&&r){return true}else{if(!p.content||e(t).hasClass("mfp-close")||p.preloader&&t===p.preloader[0]){return true}if(t!==p.content[0]&&!e.contains(p.content[0],t)){if(r){if(e.contains(document,t)){return true}}}else if(n){return true}}return false},_addClassToMFP:function(e){p.bgOverlay.addClass(e);p.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e);p.wrap.removeClass(e)},_hasScrollBar:function(e){return(p.isIE7?b.height():document.body.scrollHeight)>(e||g.height())},_setFocus:function(){(p.st.focus?p.content.find(p.st.focus).eq(0):p.wrap).focus()},_onFocusIn:function(t){if(t.target!==p.wrap[0]&&!e.contains(p.wrap[0],t.target)){p._setFocus();return false}},_parseMarkup:function(t,n,r){var i;if(r.data){n=e.extend(r.data,n)}N(s,[t,n,r]);e.each(n,function(e,n){if(n===undefined||n===false){return true}i=e.split("_");if(i.length>1){var r=t.find(f+"-"+i[0]);if(r.length>0){var s=i[1];if(s==="replaceWith"){if(r[0]!==n[0]){r.replaceWith(n)}}else if(s==="img"){if(r.is("img")){r.attr("src",n)}else{r.replaceWith('<img src="'+n+'" class="'+r.attr("class")+'" />')}}else{r.attr(i[1],n)}}}else{t.find(f+"-"+e).html(n)}})},_getScrollbarSize:function(){if(p.scrollbarSize===undefined){var e=document.createElement("div");e.id="mfp-sbm";e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(e);p.scrollbarSize=e.offsetWidth-e.clientWidth;document.body.removeChild(e)}return p.scrollbarSize}};e.magnificPopup={instance:null,proto:d.prototype,modules:[],open:function(t,n){k();if(!t){t={}}else{t=e.extend(true,{},t)}t.isObj=true;t.index=n||0;return this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){if(n.options){e.magnificPopup.defaults[t]=n.options}e.extend(this.proto,n.proto);this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};e.fn.magnificPopup=function(t){k();var n=e(this);if(typeof t==="string"){if(t==="open"){var r,i=v?n.data("magnificPopup"):n[0].magnificPopup,s=parseInt(arguments[1],10)||0;if(i.items){r=i.items[s]}else{r=n;if(i.delegate){r=r.find(i.delegate)}r=r.eq(s)}p._openClick({mfpEl:r},n,i)}else{if(p.isOpen)p[t].apply(p,Array.prototype.slice.call(arguments,1))}}else{t=e.extend(true,{},t);if(v){n.data("magnificPopup",t)}else{n[0].magnificPopup=t}p.addGroup(n,t)}return n};var A="inline",O,M,_,D=function(){if(_){M.after(_.addClass(O)).detach();_=null}};e.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){p.types.push(A);x(t+"."+A,function(){D()})},getInline:function(t,n){D();if(t.src){var r=p.st.inline,i=e(t.src);if(i.length){var s=i[0].parentNode;if(s&&s.tagName){if(!M){O=r.hiddenClass;M=T(O);O="mfp-"+O}_=i.after(M).detach().removeClass(O)}p.updateStatus("ready")}else{p.updateStatus("error",r.tNotFound);i=e("<div>")}t.inlineElement=i;return i}p.updateStatus("ready");p._parseMarkup(n,{},t);return n}}});var P="ajax",H,B=function(){if(H){y.removeClass(H)}},j=function(){B();if(p.req){p.req.abort()}};e.magnificPopup.registerModule(P,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){p.types.push(P);H=p.st.ajax.cursor;x(t+"."+P,j);x("BeforeChange."+P,j)},getAjax:function(t){if(H)y.addClass(H);p.updateStatus("loading");var n=e.extend({url:t.src,success:function(n,r,i){var s={data:n,xhr:i};N("ParseAjax",s);p.appendContent(e(s.data),P);t.finished=true;B();p._setFocus();setTimeout(function(){p.wrap.addClass(l)},16);p.updateStatus("ready");N("AjaxContentAdded")},error:function(){B();t.finished=t.loadError=true;p.updateStatus("error",p.st.ajax.tError.replace("%url%",t.src))}},p.st.ajax.settings);p.req=e.ajax(n);return""}}});var F,I=function(t){if(t.data&&t.data.title!==undefined)return t.data.title;var n=p.st.image.titleSrc;if(n){if(e.isFunction(n)){return n.call(p,t)}else if(t.el){return t.el.attr(n)||""}}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure">'+'<div class="mfp-close"></div>'+"<figure>"+'<div class="mfp-img"></div>'+"<figcaption>"+'<div class="mfp-bottom-bar">'+'<div class="mfp-title"></div>'+'<div class="mfp-counter"></div>'+"</div>"+"</figcaption>"+"</figure>"+"</div>",cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=p.st.image,n=".image";p.types.push("image");x(o+n,function(){if(p.currItem.type==="image"&&e.cursor){y.addClass(e.cursor)}});x(t+n,function(){if(e.cursor){y.removeClass(e.cursor)}g.off("resize"+f)});x("Resize"+n,p.resizeImage);if(p.isLowIE){x("AfterChange",p.resizeImage)}},resizeImage:function(){var e=p.currItem;if(!e||!e.img)return;if(p.st.image.verticalFit){var t=0;if(p.isLowIE){t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)}e.img.css("max-height",p.wH-t)}},_onImageHasSize:function(e){if(e.img){e.hasSize=true;if(F){clearInterval(F)}e.isCheckingImgSize=false;N("ImageHasSize",e);if(e.imgHidden){if(p.content)p.content.removeClass("mfp-loading");e.imgHidden=false}}},findImageSize:function(e){var t=0,n=e.img[0],r=function(i){if(F){clearInterval(F)}F=setInterval(function(){if(n.naturalWidth>0){p._onImageHasSize(e);return}if(t>200){clearInterval(F)}t++;if(t===3){r(10)}else if(t===40){r(50)}else if(t===100){r(500)}},i)};r(1)},getImage:function(t,n){var r=0,i=function(){if(t){if(t.img[0].complete){t.img.off(".mfploader");if(t===p.currItem){p._onImageHasSize(t);p.updateStatus("ready")}t.hasSize=true;t.loaded=true;N("ImageLoadComplete")}else{r++;if(r<200){setTimeout(i,100)}else{s()}}}},s=function(){if(t){t.img.off(".mfploader");if(t===p.currItem){p._onImageHasSize(t);p.updateStatus("error",o.tError.replace("%url%",t.src))}t.hasSize=true;t.loaded=true;t.loadError=true}},o=p.st.image;var u=n.find(".mfp-img");if(u.length){var a=document.createElement("img");a.className="mfp-img";t.img=e(a).on("load.mfploader",i).on("error.mfploader",s);a.src=t.src;if(u.is("img")){t.img=t.img.clone()}if(t.img[0].naturalWidth>0){t.hasSize=true}}p._parseMarkup(n,{title:I(t),img_replaceWith:t.img},t);p.resizeImage();if(t.hasSize){if(F)clearInterval(F);if(t.loadError){n.addClass("mfp-loading");p.updateStatus("error",o.tError.replace("%url%",t.src))}else{n.removeClass("mfp-loading");p.updateStatus("ready")}return n}p.updateStatus("loading");t.loading=true;if(!t.hasSize){t.imgHidden=true;n.addClass("mfp-loading");p.findImageSize(t)}return n}}});var q,R=function(){if(q===undefined){q=document.createElement("p").style.MozTransform!==undefined}return q};e.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e=p.st.zoom,r=".zoom",i;if(!e.enabled||!p.supportsTransition){return}var s=e.duration,o=function(t){var n=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+e.duration/1e3+"s "+e.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";i["-webkit-"+s]=i["-moz-"+s]=i["-o-"+s]=i[s]=r;n.css(i);return n},u=function(){p.content.css("visibility","visible")},a,f;x("BuildControls"+r,function(){if(p._allowZoom()){clearTimeout(a);p.content.css("visibility","hidden");i=p._getItemToZoom();if(!i){u();return}f=o(i);f.css(p._getOffset());p.wrap.append(f);a=setTimeout(function(){f.css(p._getOffset(true));a=setTimeout(function(){u();setTimeout(function(){f.remove();i=f=null;N("ZoomAnimationEnded")},16)},s)},16)}});x(n+r,function(){if(p._allowZoom()){clearTimeout(a);p.st.removalDelay=s;if(!i){i=p._getItemToZoom();if(!i){return}f=o(i)}f.css(p._getOffset(true));p.wrap.append(f);p.content.css("visibility","hidden");setTimeout(function(){f.css(p._getOffset())},16)}});x(t+r,function(){if(p._allowZoom()){u();if(f){f.remove()}i=null}})},_allowZoom:function(){return p.currItem.type==="image"},_getItemToZoom:function(){if(p.currItem.hasSize){return p.currItem.img}else{return false}},_getOffset:function(t){var n;if(t){n=p.currItem.img}else{n=p.st.zoom.opener(p.currItem.el||p.currItem)}var r=n.offset();var i=parseInt(n.css("padding-top"),10);var s=parseInt(n.css("padding-bottom"),10);r.top-=e(window).scrollTop()-i;var o={width:n.width(),height:(v?n.innerHeight():n[0].offsetHeight)-s-i};if(R()){o["-moz-transform"]=o["transform"]="translate("+r.left+"px,"+r.top+"px)"}else{o.left=r.left;o.top=r.top}return o}}});var U="iframe",z="//about:blank",W=function(e){if(p.currTemplate[U]){var t=p.currTemplate[U].find("iframe");if(t.length){if(!e){t[0].src=z}if(p.isIE8){t.css("display",e?"block":"none")}}}};e.magnificPopup.registerModule(U,{options:{markup:'<div class="mfp-iframe-scaler">'+'<div class="mfp-close"></div>'+'<iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe>'+"</div>",srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){p.types.push(U);x("BeforeChange",function(e,t,n){if(t!==n){if(t===U){W()}else if(n===U){W(true)}}});x(t+"."+U,function(){W()})},getIframe:function(t,n){var r=t.src;var i=p.st.iframe;e.each(i.patterns,function(){if(r.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){r=r.substr(r.lastIndexOf(this.id)+this.id.length,r.length)}else{r=this.id.call(this,r)}}r=this.src.replace("%id%",r);return false}});var s={};if(i.srcAction){s[i.srcAction]=r}p._parseMarkup(n,s,t);p.updateStatus("ready");return n}}});var X=function(e){var t=p.items.length;if(e>t-1){return e-t}else if(e<0){return t+e}return e},V=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=p.st.gallery,r=".mfp-gallery",i=Boolean(e.fn.mfpFastClick);p.direction=true;if(!n||!n.enabled)return false;E+=" mfp-gallery";x(o+r,function(){if(n.navigateByImgClick){p.wrap.on("click"+r,".mfp-img",function(){if(p.items.length>1){p.next();return false}})}b.on("keydown"+r,function(e){if(e.keyCode===37){p.prev()}else if(e.keyCode===39){p.next()}})});x("UpdateStatus"+r,function(e,t){if(t.text){t.text=V(t.text,p.currItem.index,p.items.length)}});x(s+r,function(e,t,r,i){var s=p.items.length;r.counter=s>1?V(n.tCounter,i.index,s):""});x("BuildControls"+r,function(){if(p.items.length>1&&n.arrows&&!p.arrowLeft){var t=n.arrowMarkup,r=p.arrowLeft=e(t.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(h),s=p.arrowRight=e(t.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(h);var o=i?"mfpFastClick":"click";r[o](function(){p.prev()});s[o](function(){p.next()});if(p.isIE7){T("b",r[0],false,true);T("a",r[0],false,true);T("b",s[0],false,true);T("a",s[0],false,true)}p.container.append(r.add(s))}});x(u+r,function(){if(p._preloadTimeout)clearTimeout(p._preloadTimeout);p._preloadTimeout=setTimeout(function(){p.preloadNearbyImages();p._preloadTimeout=null},16)});x(t+r,function(){b.off(r);p.wrap.off("click"+r);if(p.arrowLeft&&i){p.arrowLeft.add(p.arrowRight).destroyMfpFastClick()}p.arrowRight=p.arrowLeft=null})},next:function(){p.direction=true;p.index=X(p.index+1);p.updateItemHTML()},prev:function(){p.direction=false;p.index=X(p.index-1);p.updateItemHTML()},goTo:function(e){p.direction=e>=p.index;p.index=e;p.updateItemHTML()},preloadNearbyImages:function(){var e=p.st.gallery.preload,t=Math.min(e[0],p.items.length),n=Math.min(e[1],p.items.length),r;for(r=1;r<=(p.direction?n:t);r++){p._preloadItem(p.index+r)}for(r=1;r<=(p.direction?t:n);r++){p._preloadItem(p.index-r)}},_preloadItem:function(t){t=X(t);if(p.items[t].preloaded){return}var n=p.items[t];if(!n.parsed){n=p.parseEl(t)}N("LazyLoad",n);if(n.type==="image"){n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=true}).on("error.mfploader",function(){n.hasSize=true;n.loadError=true;N("LazyLoadError",n)}).attr("src",n.src)}n.preloaded=true}}});var $="retina";e.magnificPopup.registerModule($,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=p.st.retina,t=e.ratio;t=!isNaN(t)?t:t();if(t>1){x("ImageHasSize"+"."+$,function(e,n){n.img.css({"max-width":n.img[0].naturalWidth/t,width:"100%"})});x("ElementParse"+"."+$,function(n,r){r.src=e.replaceSrc(r,t)})}}}}});(function(){var t=1e3,n="ontouchstart"in window,r=function(){g.off("touchmove"+s+" touchend"+s)},i="mfpFastClick",s="."+i;e.fn.mfpFastClick=function(i){return e(this).each(function(){var o=e(this),u;if(n){var a,f,l,c,h,p;o.on("touchstart"+s,function(e){c=false;p=1;h=e.originalEvent?e.originalEvent.touches[0]:e.touches[0];f=h.clientX;l=h.clientY;g.on("touchmove"+s,function(e){h=e.originalEvent?e.originalEvent.touches:e.touches;p=h.length;h=h[0];if(Math.abs(h.clientX-f)>10||Math.abs(h.clientY-l)>10){c=true;r()}}).on("touchend"+s,function(e){r();if(c||p>1){return}u=true;e.preventDefault();clearTimeout(a);a=setTimeout(function(){u=false},t);i()})})}o.on("click"+s,function(){if(!u){i()}})})};e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+s+" click"+s);if(n)g.off("touchmove"+s+" touchend"+s)}})();k()})(window.jQuery||window.Zepto);(function(e){e.fn.hoverIntent=function(t,n,r){var i={interval:100,sensitivity:7,timeout:0};if(typeof t==="object"){i=e.extend(i,t)}else if(e.isFunction(n)){i=e.extend(i,{over:t,out:n,selector:r})}else{i=e.extend(i,{over:t,out:t,selector:n})}var s,o,u,a;var f=function(e){s=e.pageX;o=e.pageY};var l=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(u-s)+Math.abs(a-o)<i.sensitivity){e(n).off("mousemove.hoverIntent",f);n.hoverIntent_s=1;return i.over.apply(n,[t])}else{u=s;a=o;n.hoverIntent_t=setTimeout(function(){l(t,n)},i.interval)}};var c=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return i.out.apply(t,[e])};var h=function(t){var n=jQuery.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type=="mouseenter"){u=n.pageX;a=n.pageY;e(r).on("mousemove.hoverIntent",f);if(r.hoverIntent_s!=1){r.hoverIntent_t=setTimeout(function(){l(n,r)},i.interval)}}else{e(r).off("mousemove.hoverIntent",f);if(r.hoverIntent_s==1){r.hoverIntent_t=setTimeout(function(){c(n,r)},i.timeout)}}};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},i.selector)}})(jQuery);(function(e,t,n){"use strict";var r=e.document,i=e.Modernizr,s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o="Moz Webkit O Ms".split(" "),u=function(e){var t=r.documentElement.style,n;if(typeof t[e]=="string")return e;e=s(e);for(var i=0,u=o.length;i<u;i++){n=o[i]+e;if(typeof t[n]=="string")return n}},a=u("transform"),f=u("transitionProperty"),l={csstransforms:function(){return!!a},csstransforms3d:function(){var e=!!u("perspective");if(e){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),r="@media ("+n.join("transform-3d),(")+"modernizr)",i=t("<style>"+r+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),s=t('<div id="modernizr" />').appendTo("html");e=s.height()===3,s.remove(),i.remove()}return e},csstransitions:function(){return!!f}},c;if(i)for(c in l)i.hasOwnProperty(c)||i.addTest(c,l[c]);else{i=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h=" ",p;for(c in l)p=l[c](),i[c]=p,h+=" "+(p?"":"no-")+c;t("html").addClass(h)}if(i.csstransforms){var d=i.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},v=function(e,n,r){var i=t.data(e,"isoTransform")||{},s={},o,u={},f;s[n]=r,t.extend(i,s);for(o in i)f=i[o],u[o]=d[o](f);var l=u.translate||"",c=u.scale||"",h=l+c;t.data(e,"isoTransform",i),e.style[a]=h};t.cssNumber.scale=!0,t.cssHooks.scale={set:function(e,t){v(e,"scale",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.scale?r.scale:1}},t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)},t.cssNumber.translate=!0,t.cssHooks.translate={set:function(e,t){v(e,"translate",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.translate?r.translate:[0,0]}}}var m,g;i.csstransitions&&(m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[f],g=u("transitionDuration"));var y=t.event,b=t.event.handle?"handle":"dispatch",w;y.special.smartresize={setup:function(){t(this).bind("resize",y.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",y.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize",w&&clearTimeout(w),w=setTimeout(function(){y[b].apply(n,r)},t==="execAsap"?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Isotope=function(e,n,r){this.element=t(n),this._create(e),this._init(r)};var E=["width","height"],S=t(e);t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e),this.styleQueue=[],this.elemCount=0;var n=this.element[0].style;this.originalStyle={};var r=E.slice(0);for(var i in this.options.containerStyle)r.push(i);for(var s=0,o=r.length;s<o;s++)i=r[s],this.originalStyle[i]=n[i]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var u={"original-order":function(e,t){return t.elemCount++,t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,u),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var a=this;setTimeout(function(){a.element.addClass(a.options.containerClass)},0),this.options.resizable&&S.bind("smartresize.isotope",function(){a.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,n=t?e.filter(t).add(e.find(t)):e,r={position:"absolute"};return n=n.filter(function(e,t){return t.nodeType===1}),this.usingTransforms&&(r.left=0,r.top=0),n.css(r).addClass(this.options.itemClass),this.updateSortData(n,!0),n},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var n;for(var r in e)n="_update"+s(r),this[n]&&this[n]()}},_updateAnimationEngine:function(){var e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),t;switch(e){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!i.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&i.csstransforms&&i.csstransitions&&!this.isUsingJQueryAnimation;e||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=this.options.filter===""?"*":this.options.filter;if(!t)return e;var n=this.options.hiddenClass,r="."+n,i=e.filter(r),s=i;if(t!=="*"){s=i.filter(t);var o=e.not(r).not(t).addClass(n);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:s,style:this.options.visibleStyle}),s.removeClass(n),e.filter(t)},updateSortData:function(e,n){var r=this,i=this.options.getSortData,s,o;e.each(function(){s=t(this),o={};for(var e in i)!n&&e==="original-order"?o[e]=t.data(this,"isotope-sort-data")[e]:o[e]=i[e](s,r);t.data(this,"isotope-sort-data",o)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,n=this.options.sortAscending?1:-1,r=function(r,i){var s=t(r,e),o=t(i,e);return s===o&&e!=="original-order"&&(s=t(r,"original-order"),o=t(i,"original-order")),(s>o?1:s<o?-1:0)*n};this.$filteredAtoms.sort(r)},_getSorter:function(e,n){return t.data(e,"isotope-sort-data")[n]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,n){t=Math.round(t+this.offset.left),n=Math.round(n+this.offset.top);var r=this.getPositionStyles(t,n);this.styleQueue.push({$el:e,style:r}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:n})},layout:function(e,t){var n=this.options.layoutMode;this["_"+n+"Layout"](e);if(this.options.resizesContainer){var r=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:r})}this._processStyleQueue(e,t),this.isLaidOut=!0},_processStyleQueue:function(e,n){var r=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",s=this.options.animationOptions,o=this.options.onLayout,u,a,f,l;a=function(e,t){t.$el[r](t.style,s)};if(this._isInserting&&this.isUsingJQueryAnimation)a=function(e,t){u=t.$el.hasClass("no-transition")?"css":r,t.$el[u](t.style,s)};else if(n||o||s.complete){var c=!1,h=[n,o,s.complete],p=this;f=!0,l=function(){if(c)return;var t;for(var n=0,r=h.length;n<r;n++)t=h[n],typeof t=="function"&&t.call(p.element,e,p);c=!0};if(this.isUsingJQueryAnimation&&r==="animate")s.complete=l,f=!1;else if(i.csstransitions){var d=0,v=this.styleQueue[0],y=v&&v.$el,b;while(!y||!y.length){b=this.styleQueue[d++];if(!b)return;y=b.$el}var w=parseFloat(getComputedStyle(y[0])[g]);w>0&&(a=function(e,t){t.$el[r](t.style,s).one(m,l)},f=!1)}}t.each(this.styleQueue,a),f&&l(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var n=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(n),t&&t(n)},insert:function(e,t){this.element.append(e);var n=this;this.addItems(e,function(e){var r=n._filter(e);n._addHideAppended(r),n._sort(),n.reLayout(),n._revealAppended(r,t)})},appended:function(e,t){var n=this;this.addItems(e,function(e){n._addHideAppended(e),n.layout(e),n._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var n=this;setTimeout(function(){e.removeClass("no-transition"),n.styleQueue.push({$el:e,style:n.options.visibleStyle}),n._isInserting=!1,n._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var n=this,r=function(){e.remove(),t&&t.call(n.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(r)):r()},shuffle:function(e){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(e)},destroy:function(){var e=this.usingTransforms,t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="",t.top="",t.left="",t.opacity="",e&&(t[a]="")});var n=this.element[0].style;for(var r in this.originalStyle)n[r]=this.originalStyle[r];this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope"),S.unbind(".isotope")},_getSegments:function(e){var t=this.options.layoutMode,n=e?"rowHeight":"columnWidth",r=e?"height":"width",i=e?"rows":"cols",o=this.element[r](),u,a=this.options[t]&&this.options[t][n]||this.$filteredAtoms["outer"+s(r)](!0)||o;u=Math.floor(o/a),u=Math.max(u,1),this[t][i]=u,this[t][n]=a},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,n=e?"rows":"cols",r=this[t][n];return this._getSegments(e),this[t][n]!==r},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;this.masonry.colYs=[];while(e--)this.masonry.colYs.push(0)},_masonryLayout:function(e){var n=this,r=n.masonry;e.each(function(){var e=t(this),i=Math.ceil(e.outerWidth(!0)/r.columnWidth);i=Math.min(i,r.cols);if(i===1)n._masonryPlaceBrick(e,r.colYs);else{var s=r.cols+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.colYs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryPlaceBrick(e,o)}})},_masonryPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=this.masonry.columnWidth*r,u=n;this._pushPosition(e,o,u);var a=n+e.outerHeight(!0),f=this.masonry.cols+1-s;for(i=0;i<f;i++)this.masonry.colYs[r+i]=a},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var n=this,r=this.element.width(),i=this.fitRows;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.x!==0&&s+i.x>r&&(i.x=0,i.y=i.height),n._pushPosition(e,i.x,i.y),i.height=Math.max(i.y+o,i.height),i.x+=s})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var n=this,r=this.cellsByRow;e.each(function(){var e=t(this),i=r.index%r.cols,s=Math.floor(r.index/r.cols),o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,0,n.straightDown.y),n.straightDown.y+=r.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(e--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var n=this,r=n.masonryHorizontal;e.each(function(){var e=t(this),i=Math.ceil(e.outerHeight(!0)/r.rowHeight);i=Math.min(i,r.rows);if(i===1)n._masonryHorizontalPlaceBrick(e,r.rowXs);else{var s=r.rows+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.rowXs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryHorizontalPlaceBrick(e,o)}})},_masonryHorizontalPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=n,u=this.masonryHorizontal.rowHeight*r;this._pushPosition(e,o,u);var a=n+e.outerWidth(!0),f=this.masonryHorizontal.rows+1-s;for(i=0;i<f;i++)this.masonryHorizontal.rowXs[r+i]=a},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var n=this,r=this.element.height(),i=this.fitColumns;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.y!==0&&o+i.y>r&&(i.x=i.width,i.y=0),n._pushPosition(e,i.x,i.y),i.width=Math.max(i.x+s,i.width),i.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var n=this,r=this.cellsByColumn;e.each(function(){var e=t(this),i=Math.floor(r.index/r.rows),s=r.index%r.rows,o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,n.straightAcross.x,0),n.straightAcross.x+=r.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},t.fn.imagesLoaded=function(e){function n(){e.call(i,s)}function r(e){var i=e.target;i.src!==u&&t.inArray(i,a)===-1&&(a.push(i),--o<=0&&(setTimeout(n),s.unbind(".imagesLoaded",r)))}var i=this,s=i.find("img").add(i.filter("img")),o=s.length,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",a=[];return o||n(),s.bind("load.imagesLoaded error.imagesLoaded",r).each(function(){var e=this.src;this.src=u,this.src=e}),i};var x=function(t){e.console&&e.console.error(t)};t.fn.isotope=function(e,n){if(typeof e=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"isotope");if(!n){x("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'");return}if(!t.isFunction(n[e])||e.charAt(0)==="_"){x("no such method '"+e+"' for isotope instance");return}n[e].apply(n,r)})}else this.each(function(){var r=t.data(this,"isotope");r?(r.option(e),r._init(n)):t.data(this,"isotope",new t.Isotope(e,this,n))});return this}})(window,jQuery);(function(e){function r(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,s=true,o=0,u=0;t=e.event.fix(n);t.type="mousewheel";if(n.wheelDelta){i=n.wheelDelta/120}if(n.detail){i=-n.detail/3}u=i;if(n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS){u=0;o=-1*i}if(n.wheelDeltaY!==undefined){u=n.wheelDeltaY/120}if(n.wheelDeltaX!==undefined){o=-1*n.wheelDeltaX/120}r.unshift(t,i,o,u);return(e.event.dispatch||e.event.handle).apply(this,r)}var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks){for(var n=t.length;n;){e.event.fixHooks[t[--n]]=e.event.mouseHooks}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=t.length;e;){this.addEventListener(t[--e],r,false)}}else{this.onmousewheel=r}},teardown:function(){if(this.removeEventListener){for(var e=t.length;e;){this.removeEventListener(t[--e],r,false)}}else{this.onmousewheel=null}}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})(jQuery);jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});(function(e,t){function u(t,n){var r;return!(r=e.data(t,i))?e.data(t,i,r=new p(t,n)):r}function a(e,t){var n;return(n=Math.atan2(e.y-t.y,e.x-t.x))>0?n*(180/Math.PI):(2*Math.PI+n)*(180/Math.PI)}function f(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function l(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function c(t,n,r){e.event.special[t]={setup:function(){var i=u(this),s,o;o=i.g[t]=new n(i,i.options[t]?e.extend({},r,i.options[t]):r);e.each(o,function(e,t){if(e.substr(0,4)=="sxy-")i.el.on(e,o[e])})},teardown:function(){var n=u(this),r,i=n.g[t];e.each(i,function(e,t){if(e.substr(0,4)=="sxy-")n.el.off(e,i[e])});n.g[t]=null}}}function h(e,t){p.prototype[e]=function(){this.h[e]=new t(this)}}function p(t,n){function v(t,n){e(document).on("touchstart",p);i.hasFocus=true;u="sxy-focus";if(t)t(n);u="sxy-hover"}function m(){e(document).off("touchstart",p);i.hasFocus=false;u="sxy-blur";i.el.triggerHandler(u);u="sxy-hover"}function g(e){c=e;a.x=e.pageX;a.y=e.pageY;i.pt=[a];i.trigger(u)}function y(e){c=e;var t=e.originalEvent.targetTouches,n=i.pt=[];for(var r=0,s=t.length;r<s;++r)n.push({x:t[r].pageX,y:t[r].pageY,type:1,down:true});i.trigger(u)}function b(e,t,n,r){var s;f.push(s={e:e,hnd:n,l:0,el:r||i.el});for(var u=0,a=t.length;u<a;++u)l[o[t[u]]].push(s)}var i=this,u="sxy-hover",a={x:0,y:0,down:false,type:0},f=[],l={},c;this.options=n=e.extend({},s,e.isPlainObject(n)?n:{});this.el=e(t);this.pt=[];this.g={};this.h={};this.hasFocus=false;for(var h=0;h<o.length;++h)l[o[h]]=[];if(!r){b("mouseenter",[0,2,4],function(e){if(!i.hasFocus)v(g,e);u="sxy-hover";g(e)});b("mouseleave",[1,2,5],function(e){a.down?u="sxy-up":u="sxy-hover";a.down=false;g(e);m(g,e)});b("mousedown",[3,4],function(e){u="sxy-down";a.down=true;g(e);u="sxy-move"});b("mouseup",[0,1,2,3,4,5],function(e){u="sxy-up";a.down=false;g(e);u="sxy-hover"});b("mousemove",[2,4],g)}b("touchstart",[0,1,2,3,4,5],function(e){u="sxy-down";if(!i.hasFocus)v(y,e);y(e);u="sxy-move"});b("touchend",[0,1,2,3,4,5],function(e){u="sxy-up";c=e;var t=e.originalEvent.targetTouches,n=e.originalEvent.changedTouches,r=i.pt=[];for(var s=0,o=t.length;s<o;++s)r.push({x:t[s].pageX,y:t[s].pageY,type:1,down:true});for(var s=0,o=n.length;s<o;++s)r.push({x:n[s].pageX,y:n[s].pageY,type:1,down:false});i.trigger(u);u="sxy-hover"});b("touchmove",[0,1,2,3,4,5],y);var p=function(e){var t=true,n=i.pt;for(var r=0,s=n.length;r<s;++r){if(n[r].down==true){t=false;break}}if(t)m(y,e)};var d=e.Event;this.trigger=function(e,t){if(this.options.preventDefault)c.preventDefault();t=t||{};t.pointers=i.pt;t.originalEvent=c;i.el.trigger(d(e,t))};this.eventEnabler=function(e,t){var n,r=l[e],i=t?1:-1;for(var s=0,o=r.length;s<o;++s){switch((n=r[s]).l+=i){case 0:n.el.off(n.e,n.hnd);break;case 1:n.el.on(n.e,n.hnd);break}}};i.focus=v;i.blur=m}var n=navigator.userAgent.toLowerCase();var r=n.indexOf("android")>-1&&n.indexOf("mobile")>-1;var i="swinxytouch",s={preventDefault:true,stopPropagation:false},o=["sxy-focus","sxy-blur","sxy-hover","sxy-down","sxy-move","sxy-up"];var d=function(e){return function(){u(this).eventEnabler(e,true)}},v=function(e){return function(){u(this).eventEnabler(e,false)}};for(var m=0,g=o.length;m<g;++m){var y=o[m];e.event.special[y]={setup:d(y),teardown:v(y)}}e.fn[i]=function(e){return this.each(function(){var t=u(this,e);if(e&&t[e]){t[e].apply(t,Array.prototype.slice.call(arguments,1))}})};e.fn[i].g=c;e.fn[i].d=f;e.fn[i].a=a;e.fn[i].h=h;e.fn[i].m=l})(jQuery);(function(e,t){function s(t,i){function c(e,r){var i=e.pointers,s=o(i[0],i[1]);l.state=r;l.scale=s/f;l.distance=s-f;l.position=u(i[0],i[1]);t.trigger(n,l)}var s=this,o=e.fn[r].d,u=e.fn[r].m,a,f,l={};s["sxy-down"]=function(e){var t=e.pointers;if(t.length==2){a=false;f=o({x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y})}};s["sxy-up"]=function(e){if(a)c(e,3)};s["sxy-move"]=function(e){var t=e.pointers;if(t.length==2){if(a){c(e,2)}else{if(Math.abs(1-o(t[0],t[1])/f)>i.minScale){a=true;c(e,1)}}}}}var n="sxy-scale",r="swinxytouch";var i={minScale:.2};e.fn[r].g(n,s,i)})(jQuery);(function(e,t){function s(e,t){var r=this,i=Math.abs,s,o;r["sxy-down"]=function(e){var t=e.pointers;if(t.length==1){s=(new Date).getTime();o={x:t[0].x,y:t[0].y}}};r["sxy-up"]=function(r){var u=r.pointers;if(u.length==1&&(new Date).getTime()-s<t.maxDelay&&i(o.x-u[0].x)<t.maxMove&&i(o.y-u[0].y)<t.maxMove)e.trigger(n,{position:o})}}var n="sxy-tap",r="swinxytouch";var i={maxDelay:150,maxMove:2};e.fn[r].g(n,s,i)})(jQuery);(function(e,t){function i(t){var n=t.el.offset(),r=n.left,i=n.top,s=r+t.el.width(),o=i+t.el.height();t.el.on("sxy-hover sxy-down sxy-up sxy-move sxy-focus",function(n){var u=n.pointers[0];if(u.y<i||u.x>s||u.y>o||u.x<r){if(t.hasFocus)t.blur()}else{if(!t.hasFocus){t.focus();t.el.trigger(e.Event("sxy-focus",{pointers:n.pointers,originalEvent:n.originalEvent}))}}})}var n="bound",r="swinxytouch";e.fn[r].h(n,i)})(jQuery);(function(e){e.cookie=function(t,n,r){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(n))||n===null||n===undefined)){r=e.extend({},r);if(n===null||n===undefined){r.expires=-1}if(typeof r.expires==="number"){var i=r.expires,s=r.expires=new Date;s.setDate(s.getDate()+i)}n=String(n);return document.cookie=[encodeURIComponent(t),"=",r.raw?n:encodeURIComponent(n),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}r=n||{};var o=r.raw?function(e){return e}:decodeURIComponent;var u=document.cookie.split("; ");for(var a=0,f;f=u[a]&&u[a].split("=");a++){if(o(f[0])===t)return o(f[1]||"")}return null}})(jQuery);(function(e,t){function i(n,r){this.e=n.get(0);this.j=n.first();if(r!=t)e.extend(this,r)}function s(t,r){var i=this;i.element=e(t);i.options=e["extend"]({},n,r);i.driver=new e.fn.swinxyzoom.modes[i.options["mode"]](this);i.initialised=false;i.enabled=false;i.waiting=null;i.element.css({cursor:"default"});i.dmp={cX:0,tX:0,cY:0,tY:0,timer:false};i.last=false;i.hasFocus=false;i._animate=function(){var e=i.dmp,t=i.si.e.style,n=i.options["damping"],r=e.tX-e.cX,s=e.tY-e.cY;t.left=(e.cX+=r/n)+"px";t.top=(e.cY+=s/n)+"px";if(~~r==0&&~~s==0){clearTimeout(e.timer);e.timer=false}};i._moveSlider=function(e){var t=e.pointers[0].y;var n=i.ct.sl.j.offset();var r=i.maxZoom/i.ct.sl.j.height();t=i.ct.sl.j.height()-(t-n.top);var s=t*r;i.zoom(s,i.cursor.lastX,i.cursor.lastY)};i._focus=function(){var e=i.dp.j.offset();i.dp.ol=e.left;i.dp.ot=e.top;i.hasFocus=true;if(i.options["controls"]){i.ct.j.show();i.ct.ol.j.stop().animate({opacity:.5},{queue:false});i.ct.j.show()}if(i.last!==false&&(i.last.w!=i.rt.j.width()||i.last.h!=i.rt.j.height())){i.rebuild(function(){i.zoom(i.maxZoom,i.cursor.lastX,i.cursor.lastY);if(i.driver.load)i.driver.load(i.cursor.lastX,i.cursor.lastY);i.zoom(i.maxZoom,i.cursor.lastX,i.cursor.lastY)})}i.last={w:i.rt.j.width(),h:i.rt.j.height()}};i._blur=function(e){i.hasFocus=false;jQuery("body").getNiceScroll().show();if(i.options["controls"]){i.ct.j.hide();i.ct.ol.j.stop().animate({opacity:0},{queue:false,complete:function(){}})}};i._mousewheel=function(e,t,n,r){e.preventDefault();jQuery("body").getNiceScroll().hide();i.zoom(i.level+Math.round(r*(i.maxZoom/i.options["steps"])),e.pageX,e.pageY)};i._stepIn=function(e){e.preventDefault();i.zoom(i.level+Math.round(1*(i.maxZoom/i.options["steps"])),i.cursor.lastX,i.cursor.lastY)};i._stepOut=function(e){e.preventDefault();i.zoom(i.level+Math.round(-1*(i.maxZoom/i.options["steps"])),i.cursor.lastX,i.cursor.lastY)};var s;i._scale=[];i._scale[1]=function(t){s=i.level;e("#info").append("start["+s+"] ")};i._scale[2]=function(t){e("#info").append("s ");e("#info").append("s["+Math.abs(s*t.scale)+","+t.position.x+"] ");i.zoom(s*t.scale,t.position.x,t.position.y)};i._scale[3]=function(e){};var o=i.element.children().first().attr("src");var u=i.element.attr("href");var a=new Image;a.onload=function(){i.load(o,u)};a.src=o}var n={damping:8,steps:15,mode:"dock",zoom:15,controls:true,size:"actual"},r="swinxyzoom";s.prototype.load=function(e,t,n){var r=this;if(!e)e=r.dp.tn.src;if(!t)t=r.si.src;var i=function(){if(n)r._focus();r.dp.tn.src=e;r.si.src=t;if(r.dp.tn.j.attr("src")!=r.dp.tn.src){r.dp.tn.j.one("load",function(){if(r.options.size=="actual")r.rt.j.css({width:r.dp.tn.j.width(),height:r.dp.tn.j.height()});r.dp.tn.j.stop().animate({opacity:1},{queue:false,complete:function(){r.rt.bg.j.attr("src",r.dp.tn.src);r.dp.tn.j.css({opacity:0})}})});r.dp.tn.j.attr("src",r.dp.tn.src)}var i=function(e,t){var n;r.si.j.one("load",function(){r.dp.j.off("sxy-move sxy-hover",n);r.waiting=null;r.rebuild(function(){r.zoom(r.maxZoom/r.options.steps*r.options.zoom,r.cursor.lastX,r.cursor.lastY);if(r.driver.load)r.driver.load(r.cursor.lastX,r.cursor.lastY);r.zoom(r.maxZoom/r.options.steps*r.options.zoom,r.cursor.lastX,r.cursor.lastY);r.rt.j.toggleClass("sxy-zoom-loading")})});r.cursor={lastX:e,lastY:t};r.dp.j.on("sxy-move sxy-hover",n=function(e){var t=e.pointers[0];r.cursor={lastX:t.x,lastY:t.y}});r.si.j.attr("src",r.si.src)};if(n){r.waiting=null;r.rt.j.toggleClass("sxy-zoom-loading");i(0,0)}else{if(!r.waiting){r.rt.j.one("sxy-focus",r.waiting=function(e){r.rt.j.toggleClass("sxy-zoom-loading");i(e.pointers[0].x,e.pointers[0].y)})}}};if(r.initialised==false){r.tearUp(i)}else{i()}};s.prototype.getNaturalSize=function(e,t){var n=new Image;n.onload=function(){t({w:n.width,h:n.height})};n.src=e};s.prototype.rebuild=function(t){var n=this,r=n.dp,i=n.vp,s=n.si,o=n.vf;e.extend(r,{w:n.options["size"]=="actual"?r.tn.j.width():n.rt.j.width(),h:n.options["size"]=="actual"?r.tn.j.height():n.rt.j.height(),ol:r.j.offset().left,ot:r.j.offset().top,hyp:Math.round(Math.sqrt(Math.pow(r.tn.j.width(),2)+Math.pow(r.tn.j.height(),2)))});switch(n.options["size"]){case"actual":n.rt.j.css({width:r.w,height:r.h});break;case"src":n.rt.j.css({width:r.w,height:r.h});break}e.extend(i,{w:r.w,h:r.h});n.vp.j.css({width:r.w,height:r.h});n.getNaturalSize(n.si.src,function(i){e.extend(s,{w:0,h:0,l:0,t:0,mL:0,mT:0,oHyp:Math.round(Math.sqrt(Math.pow(i.w,2)+Math.pow(i.h,2))),oH:i.h,oW:i.w});e.extend(o,{w:0,h:0,l:0,t:0});n.ct.sl.j.css({height:n.ct.sl.h=n.ct.j.height()-(n.ct.zin.j.outerHeight()+n.ct.zout.j.outerHeight())});n.ct.sl.h-=16;clearTimeout(n.dmp.timer);n.dmp={cX:0,tX:0,cY:0,tY:0,timer:false};n.scale=Math.atan(n.si.oH/n.si.oW);n.angle=0;n.maxZoom=s.oHyp-r.hyp;n.level=0;t()})};s.prototype.tearUp=function(t){var n=null,r=this,s='<div class="sxy-zoom-container sxy-zoom-mode-{mode}" style="width: {w}; height: {h}; position: relative;" ></div>',o='<img class="sxy-zoom-bg" src="{srcthumb}" />'+"{auto}"+'<div class="sxy-controls">'+'<div class="overlay"></div>'+'<a class="in" href="#"></a>'+'<div class="sxy-slider"><div class="sxy-handle" style="top: 0px;"></div></div>'+'<a class="out" href="#"></a>'+"</div>"+'<div class="sxy-zoom-dragpad">'+'<div class="sxy-overlay"></div>'+'<div class="sxy-zoom-viewport"><img galleryimg="no" /></div>'+'<img class="inner-thumb" src="{srcthumb}" />'+'<div class="sxy-zoom-viewfinder"></div>'+"</div>"+'<div class="sxy-loading"><span></span></div>';r.initialised=true;r.el=new i(r.element);r.el.tn=new i(r.element.children());r.getNaturalSize(r.el.tn.j.attr("src"),function(u){console.log("tear-up "+r.options["mode"]);var a,f;switch(r.options["size"]){case"actual":a=u.w+"px";f=u.h+"px";break;case"src":a=r.el.tn.j.attr("width")+"px";f="auto";break;default:a=r.options["size"];f="auto"}var l={w:a,h:f,srcthumb:r.el.tn.j.attr("src"),mode:r.options["mode"],auto:f=="auto"?'<div style="padding-top: '+100/u.w*u.h+'%;" />':""};r.el.j.wrap(s.replace(/\{(\w+)\}/g,function(e,t){return l[t]||e}));r.element.hide();r.rt=new i(r.el.j.parent());r.rt.j.append(o.replace(/\{(\w+)\}/g,function(e,t){return l[t]||e}));r.rt.bg=new i(r.rt.j.find(".sxy-zoom-bg"));r.rt.j.on("dragstart",function(e){return false});r.ct=new i(r.rt.j.find(".sxy-controls").hide());r.ct.ol=new i(r.ct.j.find(".overlay"));r.ct.zin=new i(r.ct.j.find(".in"));r.ct.zout=new i(r.ct.j.find(".out"));r.ct.sl=new i(n=r.ct.j.find(".sxy-slider").first(),{h:0});r.ct.hnd=new i(r.ct.j.find(".sxy-handle"));r.dp=new i(n=r.rt.j.find(".sxy-zoom-dragpad").first(),{w:0,h:0,ol:0,ot:0,hyp:0});r.dp.ovl=new i(r.dp.j.find(".sxy-overlay"));r.dp.tn=new i(r.dp.j.find(".inner-thumb").css({opacity:0}),{src:""});r.vp=new i(r.dp.j.find(".sxy-zoom-viewport").css({opacity:0}),{w:0,h:0});r.si=new i(r.vp.j.find("img"),{w:0,h:0,l:0,t:0,mL:0,mT:0,oHyp:0,oH:0,oW:0,src:""});r.vf=new i(r.dp.j.find(".sxy-zoom-viewfinder").css({display:"none"}),{w:0,h:0,l:0,t:0,osl:0,ost:0});r.rt.j.on("sxy-focus",r._focus);r.rt.j.on("sxy-blur",r._blur);if(e.event["special"].mousewheel)r.rt.j.on("mousewheel",r._mousewheel);r.dp.j.on("sxy-scale",function(e){r._scale[e.state](e)});r.ct.zin.j.on("click",r._stepIn);r.ct.zout.j.on("click",r._stepOut);r.ct.sl.j.on("sxy-down sxy-move",r._moveSlider);t()})};s.prototype.move=function(e,t,n){var r=this;var i=-1*(e/r.scale);var s=-1*(t/r.scale);r.cursor.lastX=i+r.vf.w/2+r.dp.ol;r.cursor.lastY=s+r.vf.h/2+r.dp.ot;if(i<0){i=e=0}if(s<0){s=t=0}if(i+r.vf.w>r.dp.w){i=r.dp.w-r.vf.w;e=r.si.mL}if(s+r.vf.h>r.dp.h){s=r.dp.h-r.vf.h;t=r.si.mT}r.vf.l=~~i;r.vf.t=~~s;r.dmp.tX=e;r.dmp.tY=t;if(n&&r.options["damping"]!=false){if(!r.dmp.timer)r.dmp.timer=setInterval(r._animate,16)}else{clearTimeout(r.dmp.timer);r.dmp.timer=false;var o=r.si.e.style;o.left=(r.dmp.tX=r.dmp.cX=e)+"px";o.top=(r.dmp.tY=r.dmp.cY=t)+"px"}};s.prototype.center=function(e,t,n){var r=this;r.move(-1*(e-r.vf.w/2)*r.scale,-1*(t-r.vf.h/2)*r.scale,n)};s.prototype.zoom=function(e,t,n){var r=this,i=null;r.level=e;if(r.level<0)r.level=0;if(r.level>r.maxZoom)r.level=r.maxZoom;var s=(r.si.oHyp-r.level)/r.si.oHyp*100;r.ct.hnd.j.css({top:r.ct.sl.h-r.ct.sl.h/100*r.level/r.maxZoom*100});r.vf.w=r.vp.w/100*s;r.vf.h=r.vp.h/100*s;r.vf.osl=parseInt(r.vf.j.css("border-left-width"),10);r.vf.ost=parseInt(r.vf.j.css("border-top-width"),10);r.scale=r.si.oW/r.vp.w/(r.si.oW/100*s/r.vp.w);r.si.w=r.si.oW/(r.si.oW/100*s/r.dp.w);r.si.h=r.si.oH/(r.si.oH/100*s/r.dp.h);r.vf.j.css({width:r.vf.w,height:r.vf.h});r.si.j.css({width:r.si.w,height:r.si.h});r.si.mL=0-(r.si.w-r.vp.w);r.si.mT=0-(r.si.h-r.vp.h);if(r.driver.zoom)r.driver.zoom(t,n)};e.fn[r]=function(t){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i;if(i=e.data(this,r)){if(i[t])return i[t].apply(i,n);e.error("Method "+t+" does not exist on jQuery.swinxyzoom")}else{e.data(this,r,new s(this,t))}})};e.fn[r]["modes"]={}})(jQuery);(function(e,t){function s(e){var n=0,r=0;for(var i in e){++n;var s=e[i],o=s.variations;for(var u=0,a=o.length;u<a;++u){if(document.createElement("div").style[o[u]]!==t){++r;s.supported=o[u];break}}}return n==r}function o(o){function d(e,t){var n=o.dp.j.offset(),r=n.left,i=n.top,s=r+o.dp.j.width(),u=i+o.dp.j.height();return t<i||e>s||t>u||e<r?false:true}function v(){if(u){u=false;o.vf.j.hide();o.dp.ovl.j.stop().animate({opacity:0},{queue:false});o.vp.j.stop().animate({opacity:0,left:o.dp.w/2,top:o.dp.h/2,width:0,height:0},{queue:false})}}function m(e,t){if(!o.waiting){u=true;o.si.j.show();o.vp.j.show();o.vf.j.show();o.dp.ovl.j.stop().animate({opacity:.5},{queue:false});o.vp.j.stop().animate({opacity:1,left:f,top:l,width:o.vp.w,height:o.vp.h},{queue:false});a.move(e,t,true)}}function g(){o.rt.j.on("sxy-focus",function(e){var t=e.pointers[0];m(t.x,t.y)});o.rt.j.on("sxy-blur",function(e){v()});o.dp.j.on("sxy-hover sxy-move sxy-down",h);if(c==false){var t=e('<img src="" style="display: block; position: absolute;" />');o.vf.j.append(t);o.vf.img={j:t,e:t.get(0)}}a.initialised=true}function E(e,t){switch(p.position){case"top":f=0;l=-1*(o.dp.h+10);break;case"right":f=o.dp.w+10;l=0;break;case"bottom":f=0;l=o.dp.h+10;break;case"left":f=-1*(o.dp.w+10);l=0;break}o.vp.j.css({width:0,height:0,left:o.dp.w/2,top:o.dp.h/2});o.dp.ovl.j.css({opacity:0});o.vf.j.css({position:"relative",overflow:"hidden"});b=w=0;if(!a.initialised)g();if(c==false){o.vf.img.j.attr("src",o.dp.tn.src);o.vf.img.j.css({width:o.dp.w,height:o.dp.h})}else{o.vf.j.css("background-image","url("+o.dp.tn.src+")");o.vf.j.css(c,o.dp.w+"px "+o.dp.h+"px")}if(o.hasFocus)m(e,t)}function S(e,t){T(e,t,false)}function x(){if(!a.initialised)return;var e=o.vf,t=o.vf.e.style;if(e.l!=b||e.t!=w){t.left=(b=e.l)+"px";t.top=(w=e.t)+"px";if(c==false){var n=o.vf.img.e.style;n.left="-"+(e.l+e.osl)+"px";n.top="-"+(e.t+e.ost)+"px"}else{t.backgroundPosition="-"+(e.l+e.osl)+"px"+" -"+(e.t+e.ost)+"px"}y=setTimeout(x,8)}else{y=false}}function T(e,t,n){if(d(e,t)){if(!u)m(e,t);o.center(e-o.dp.ol,t-o.dp.ot,n);if(!y)x()}else{v()}}this.initialised=false;if(!r){r=true;i["_all"]=s(i)}var u=false,a=this,f=0,l=0,c=i.backgroundSize.supported;var h=function(e){var t;if(e.pointers.length==1){t=e.pointers[0];T(t.x,t.y,true)}};var p=e.extend({},n,o.options.dock!=t?o.options.dock:{});var y=false,b,w;a.tearUp=g;a.load=E;a.focus=m;a.blur=v;a.move=T;a.zoom=S}var n={position:"right"};var r=false;var i={backgroundSize:{supported:false,variations:["backgroundSize","WebkitBackgroundSize","MozBackgroundSize","OBackgroundSize","msBackgroundSize"]}};e.fn["swinxyzoom"]["modes"]["dock"]=o})(jQuery);(function(e,t){function n(e){function n(t,n){e.rt.j.on("sxy-focus",function(e){u(e.pointers[0].x,e.pointers[0].y)});e.rt.j.on("sxy-blur",function(){a()});e.dp.j.on("sxy-hover sxy-move sxy-down",function(e){var t;if(e.pointers.length==1){t=e.pointers[0];c(t.x,t.y,true)}})}function o(n,r){e.vp.j.css({opacity:0,width:e.dp.w,height:e.dp.h,left:0,top:0});i=s=0;if(!t.initialised)t.tearUp();if(e.hasFocus)t.focus(n,r)}function u(t,n){if(!e.waiting){e.si.j.show();e.vp.j.show();e.vf.j.show();e.vp.j.stop().animate({opacity:1},{queue:false});c(t,n,true)}}function a(){e.vf.j.hide();e.vp.j.stop().animate({opacity:0},{queue:false})}function f(e,t){c(e,t,false)}function l(){var t=e.vf,n=e.vf.e.style;if(t.l!=i||t.t!=s){n.left=(i=t.l)+"px";n.top=(s=t.t)+"px";r=setTimeout(l,8)}else{r=false}}function c(t,n,i){e.center(t-e.dp.ol,n-e.dp.ot,i);if(!r)l()}var t=this;this.initialised=false;var r=false,i,s;t.tearUp=n;t.load=o;t.focus=u;t.blur=a;t.move=c;t.zoom=f}e.fn["swinxyzoom"]["modes"]["window"]=n})(jQuery);(function(e,t){function n(e){function r(){e.dp.j.on("sxy-focus",function(e){a(e.pointers[0].x,e.pointers[0].y)});e.dp.j.on("sxy-blur",function(e){f()});e.dp.j.on("sxy-down",function(t){e.dp.j.toggleClass("down");var r=t.pointers[0];n={l:e.dmp.tX,t:e.dmp.tY,x:r.x-e.dp.ol,y:r.y-e.dp.ot}});e.dp.j.on("sxy-up",function(t){e.dp.j.toggleClass("down")});e.dp.j.on("sxy-move",function(e){var t=e.pointers[0];h(t.x,t.y)})}function u(i,u){e.vp.j.css({opacity:0,width:e.dp.w,height:e.dp.h,left:0,top:0});n={l:0,t:0,x:i,y:u};e.center(e.dp.w/2,e.dp.h/2,false);s=o=0;if(!t.initialised)r();if(e.hasFocus)a(i,u)}function a(t,n){if(!e.waiting){e.si.j.show();e.vp.j.show();e.vf.j.show();e.vp.j.stop().animate({opacity:1},{queue:false})}}function f(t,n){e.vf.j.hide();e.vp.j.animate({opacity:0},{queue:false})}function l(t,n){e.center(e.cursor.lastX-e.dp.ol,e.cursor.lastY-e.dp.ot,false);e.vf.j.css({left:e.vf.l,top:e.vf.t})}function c(){var t=e.vf,n=e.vf.e.style;if(t.l!=s||t.t!=o){n.left=(s=t.l)+"px";n.top=(o=t.t)+"px";i=setTimeout(c,8)}else{i=false}}function h(t,r){e.move(n.l+(t-e.dp.ol-n.x),n.t+(r-e.dp.ot-n.y),true);if(!i)c()}this.initialised=false;var t=this,n={};var i=false,s,o;t.tearUp=r;t.load=u;t.focus=a;t.blur=f;t.zoom=l}e.fn["swinxyzoom"]["modes"]["slippy"]=n})(jQuery);(function(e,t){function r(r){function a(e,t){r.dp.j.swinxytouch("bound");r.dp.j.on("sxy-focus",function(e){p(e.pointers[0].x,e.pointers[0].y)});r.dp.j.on("sxy-blur",function(){d()})}function h(e,t){r.vp.j.css({opacity:0,width:u.width,height:u.height,left:0,top:0});r.vp.w=u.width;r.vp.h=u.height;r.vp.j.show();r.si.j.show();r.vf.j.hide();l=c=0;if(!i.initialised)i.tearUp();if(r.hasFocus)p(e,t)}function p(e,t){if(!r.waiting){s=true;r.dp.j.on("sxy-hover sxy-move sxy-down",o);r.vp.j.show();r.vp.j.stop().animate({opacity:1,width:r.vp.w,height:r.vp.h},{queue:false});i.move(e,t,true)}}function d(){if(s){s=false;r.dp.j.off("sxy-hover sxy-move sxy-down",o);r.vp.j.stop().animate({opacity:0},{queue:false,complete:function(){r.vp.j.hide()}})}}function v(){var e=r.vf,t=r.vp,n=r.vp.e.style;if(e.l!=l||e.t!=c){n.left=r.cursor.lastX-r.dp.ol-t.w/2+"px";n.top=r.cursor.lastY-r.dp.ot-t.h/2+"px";f=setTimeout(v,8)}else{f=false}}function m(e,t,n){r.center(e-r.dp.ol,t-r.dp.ot,n);if(!f)v()}function g(e,t){m(e,t,false)}this.initialised=false;var i=this,s=true;var o=function(e){var t;if(e.pointers.length==1){t=e.pointers[0];m(t.x,t.y,true)}};var u=e.extend({},n,r.options.lens!=t?r.options.lens:{});var f=false,l,c;i.tearUp=a;i.load=h;i.focus=p;i.blur=d;i.move=m;i.zoom=g}var n={width:200,height:200};e.fn["swinxyzoom"]["modes"]["lens"]=r})(jQuery);(function(e,t,n){"use strict";function i(e,n){var r,i,s=n;this.pause=function(){t.clearTimeout(r);s-=new Date-i};this.resume=function(){i=new Date;r=t.setTimeout(e,s)};this.resume()}var r=t.Modernizr;e.CBPQTRotator=function(t,n){this.$el=e(n);this._init(t)};e.CBPQTRotator.defaults={speed:700,easing:"ease",interval:4e3};e.CBPQTRotator.prototype={_init:function(t){this.options=e.extend(true,{},e.CBPQTRotator.defaults,t);if(this.$el.data("interval")){this.options.interval=this.$el.data("interval")}this._config();this.$items.eq(this.current).addClass("cbp-qtcurrent");if(this.support){this._setTransition()}this._startRotator();var n=this;this.$el.hover(function(){n._pause()},function(){if(n.pauseOn){n._start()}n.pauseOn=true});this.nextBtn.click(function(e){e.preventDefault();n._changeSlide("next")});this.prevBtn.click(function(e){e.preventDefault();n._changeSlide("prev")})},_config:function(){this.pauseOn=true;this.$items=this.$el.children("div.cbp-qtcontent");this.nextBtn=this.$el.find("div.cbp-next");this.prevBtn=this.$el.find("div.cbp-prev");this.itemsCount=this.$items.length;this.current=0;this.support=r.csstransitions;if(this.support){this.$progress=e('<span class="cbp-qtprogress"></span>').appendTo(this.$el)}},_setTransition:function(){setTimeout(e.proxy(function(){this.$items.css("transition","opacity "+this.options.speed+"ms "+this.options.easing)},this),25)},_startRotator:function(){if(this.support){this._startProgress(this.options.interval)}this.slider=new this._timer(e.proxy(function(){if(this.support){this._resetProgress(0)}this._next();this._startRotator()},this),this.options.interval)},_timer:function(e,n){var r,i,s=n;this.pause=function(){t.clearTimeout(r);s-=new Date-i;return s};this.resume=function(){i=new Date;r=t.setTimeout(e,s)};this.resume()},_pause:function(){this.remain=this.slider.pause();if(this.support){this._resetProgress(100-this.remain/this.options.interval*100)}},_start:function(){this.slider.resume();var e=this.remain;if(this.support){this._startProgress(e)}},_next:function(){this.$items.eq(this.current).removeClass("cbp-qtcurrent");this.current=this.current<this.itemsCount-1?this.current+1:0;this.$items.eq(this.current).addClass("cbp-qtcurrent")},_prev:function(){this.$items.eq(this.current).removeClass("cbp-qtcurrent");this.current=this.current<1?this.itemsCount-1:this.current-1;this.$items.eq(this.current).addClass("cbp-qtcurrent")},_changeSlide:function(e){this.pauseOn=false;this.remain=this.slider.pause();if(e=="next"){this._next()}else{this._prev()}this._resetProgress(0);this._startProgress(this.options.interval);this._startRotator()},_startProgress:function(t){setTimeout(e.proxy(function(){this.$progress.css({transition:"width "+t+"ms linear",width:"100%"})},this),25)},_resetProgress:function(e){this.$progress.css({transition:"none",width:e+"%"})},destroy:function(){if(this.support){this.$items.css("transition","none");this.$progress.remove()}this.$items.removeClass("cbp-qtcurrent").css({position:"relative","z-index":100,"pointer-events":"auto",opacity:1})}};var s=function(e){if(t.console){t.console.error(e)}};e.fn.cbpQTRotator=function(t){if(typeof t==="string"){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=e.data(this,"cbpQTRotator");if(!r){s("cannot call methods on cbpQTRotator prior to initialization; "+"attempted to call method '"+t+"'");return}if(!e.isFunction(r[t])||t.charAt(0)==="_"){s("no such method '"+t+"' for cbpQTRotator instance");return}r[t].apply(r,n)})}else{this.each(function(){var n=e.data(this,"cbpQTRotator");if(n){n._init()}else{n=e.data(this,"cbpQTRotator",new e.CBPQTRotator(t,this))}})}return this}})(jQuery,window);(function(e){var t=!1,n=!1,r=5e3,i=2e3,s=0,o=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}();Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=0,r=this.length;n<r;++n)e.call(t,this[n],n,this)});var u=window.requestAnimationFrame||!1,f=window.cancelAnimationFrame||!1;["ms","moz","webkit","o"].forEach(function(e){u||(u=window[e+"RequestAnimationFrame"]);f||(f=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"])});var l=window.MutationObserver||window.WebKitMutationObserver||!1,c={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1},h=!1,p=function(){if(h)return h;var e=document.createElement("DIV"),t={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};t.isopera="opera"in window;t.isopera12=t.isopera&&"getUserMedia"in navigator;t.isie="all"in document&&"attachEvent"in e&&!t.isopera;t.isieold=t.isie&&!("msInterpolationMode"in e.style);t.isie7=t.isie&&!t.isieold&&(!("documentMode"in document)||7==document.documentMode);t.isie8=t.isie&&"documentMode"in document&&8==document.documentMode;t.isie9=t.isie&&"performance"in window&&9<=document.documentMode;t.isie10=t.isie&&"performance"in window&&10<=document.documentMode;t.isie9mobile=/iemobile.9/i.test(navigator.userAgent);t.isie9mobile&&(t.isie9=!1);t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent);t.ismozilla="MozAppearance"in e.style;t.iswebkit="WebkitAppearance"in e.style;t.ischrome="chrome"in window;t.ischrome22=t.ischrome&&t.haspointerlock;t.ischrome26=t.ischrome&&"transition"in e.style;t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window;t.hasmstouch=window.navigator.msPointerEnabled||!1;t.ismac=/^mac$/i.test(navigator.platform);t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);t.isios4=t.isios&&!("seal"in Object);t.isandroid=/android/i.test(navigator.userAgent);t.trstyle=!1;t.hastransform=!1;t.hastranslate3d=!1;t.transitionstyle=!1;t.hastransition=!1;t.transitionend=!1;for(var n=["transform","msTransform","webkitTransform","MozTransform","OTransform"],r=0;r<n.length;r++)if("undefined"!=typeof e.style[n[r]]){t.trstyle=n[r];break}t.hastransform=!1!=t.trstyle;t.hastransform&&(e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle]));t.transitionstyle=!1;t.prefixstyle="";t.transitionend=!1;for(var n="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),i=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),s="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),r=0;r<n.length;r++)if(n[r]in e.style){t.transitionstyle=n[r];t.prefixstyle=i[r];t.transitionend=s[r];break}t.ischrome26&&(t.prefixstyle=i[1]);t.hastransition=t.transitionstyle;e:{n=["-moz-grab","-webkit-grab","grab"];if(t.ischrome&&!t.ischrome22||t.isie)n=[];for(r=0;r<n.length;r++)if(i=n[r],e.style.cursor=i,e.style.cursor==i){n=i;break e}n="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}t.cursorgrabvalue=n;t.hasmousecapture="setCapture"in e;t.hasMutationObserver=!1!==l;return h=t},d=function(a,h){function d(){var e=b.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function m(e,t,n){t=e.css(t);e=parseFloat(t);return isNaN(e)?(e=N[t]||0,n=3==e?n?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1,b.isie8&&e&&(e+=1),n?e:0):e}function g(e,t,n,r){b._bind(e,t,function(r){r=r?r:window.event;var i={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){r.preventDefault?r.preventDefault():r.returnValue=!1;return!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};"mousewheel"==t?(i.deltaY=-.025*r.wheelDelta,r.wheelDeltaX&&(i.deltaX=-.025*r.wheelDeltaX)):i.deltaY=r.detail;return n.call(e,i)},r)}function y(e,t,n){var r,i;0==e.deltaMode?(r=-Math.floor(e.deltaX*(b.opt.mousescrollstep/54)),i=-Math.floor(e.deltaY*(b.opt.mousescrollstep/54))):1==e.deltaMode&&(r=-Math.floor(e.deltaX*b.opt.mousescrollstep),i=-Math.floor(e.deltaY*b.opt.mousescrollstep));t&&0==r&&i&&(r=i,i=0);r&&(b.scrollmom&&b.scrollmom.stop(),b.lastdeltax+=r,b.debounced("mousewheelx",function(){var e=b.lastdeltax;b.lastdeltax=0;b.rail.drag||b.doScrollLeftBy(e)},120));if(i){if(b.opt.nativeparentscrolling&&n&&!b.ispage&&!b.zoomactive)if(0>i){if(b.getScrollTop()>=b.page.maxh)return!0}else if(0>=b.getScrollTop())return!0;b.scrollmom&&b.scrollmom.stop();b.lastdeltay+=i;b.debounced("mousewheely",function(){var e=b.lastdeltay;b.lastdeltay=0;b.rail.drag||b.doScrollBy(e)},120)}e.stopImmediatePropagation();return e.preventDefault()}var b=this;this.version="3.4.0";this.name="nicescroll";this.me=h;this.opt={doc:e("body"),win:!1};e.extend(this.opt,c);this.opt.snapbackspeed=80;if(a)for(var E in b.opt)"undefined"!=typeof a[E]&&(b.opt[E]=a[E]);this.iddoc=(this.doc=b.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==b.opt.win;this.win=b.opt.win||(this.ispage?e(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win;this.body=e("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=b.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+i++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=!1;this.cursoractive=!0;this.overflowx=b.opt.overflowx;this.overflowy=b.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=p();var S=e.extend({},this.detected);this.ishwscroll=(this.canhwscroll=S.hastransform&&b.opt.hwacceleration)&&b.haswrapper;this.istouchcapable=!1;S.cantouch&&S.ischrome&&!S.isios&&!S.isandroid&&(this.istouchcapable=!0,S.cantouch=!1);S.cantouch&&S.ismozilla&&!S.isios&&(this.istouchcapable=!0,S.cantouch=!1);b.opt.enablemouselockapi||(S.hasmousecapture=!1,S.haspointerlock=!1);this.delayed=function(e,t,n,r){var i=b.delaylist[e],s=(new Date).getTime();if(!r&&i&&i.tt)return!1;i&&i.tt&&clearTimeout(i.tt);if(i&&i.last+n>s&&!i.tt)b.delaylist[e]={last:s+n,tt:setTimeout(function(){b.delaylist[e].tt=0;t.call()},n)};else if(!i||!i.tt)b.delaylist[e]={last:s,tt:0},setTimeout(function(){t.call()},0)};this.debounced=function(e,t,n){var r=b.delaylist[e];(new Date).getTime();b.delaylist[e]=t;r||setTimeout(function(){var t=b.delaylist[e];b.delaylist[e]=!1;t.call()},n)};this.synched=function(e,t){b.synclist[e]=t;(function(){b.onsync||(u(function(){b.onsync=!1;for(e in b.synclist){var t=b.synclist[e];t&&t.call(b);b.synclist[e]=!1}}),b.onsync=!0)})();return e};this.unsynched=function(e){b.synclist[e]&&(b.synclist[e]=!1)};this.css=function(e,t){for(var n in t)b.saved.css.push([e,n,e.css(n)]),e.css(n,t[n])};this.scrollTop=function(e){return"undefined"==typeof e?b.getScrollTop():b.setScrollTop(e)};this.scrollLeft=function(e){return"undefined"==typeof e?b.getScrollLeft():b.setScrollLeft(e)};BezierClass=function(e,t,n,r,i,s,o){this.st=e;this.ed=t;this.spd=n;this.p1=r||0;this.p2=i||1;this.p3=s||0;this.p4=o||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){this.st=this.getNow();this.ed=e;this.spd=t;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};S.hastranslate3d&&S.isios&&this.doc.css("-webkit-backface-visibility","hidden");var T=function(){var e=b.doc.css(S.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(e){if(!e){if(e=T())return 16==e.length?-e[13]:-e[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y};this.getScrollLeft=function(e){if(!e){if(e=T())return 16==e.length?-e[12]:-e[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x};this.notifyScrollEvent=document.createEvent?function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1);e.dispatchEvent(t)}:document.fireEvent?function(e){var t=document.createEventObject();e.fireEvent("onscroll");t.cancelBubble=!0}:function(e,t){};S.hastranslate3d&&b.opt.enabletranslate3d?(this.setScrollTop=function(e,t){b.doc.translate.y=e;b.doc.translate.ty=-1*e+"px";b.doc.css(S.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)");t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e;b.doc.translate.tx=-1*e+"px";b.doc.css(S.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)");t||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(e,t){b.doc.translate.y=e;b.doc.translate.ty=-1*e+"px";b.doc.css(S.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")");t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e;b.doc.translate.tx=-1*e+"px";b.doc.css(S.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")");t||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(e){return b.docscroll.scrollTop(e)},this.getScrollLeft=function(){return b.docscroll.scrollLeft()},this.setScrollLeft=function(e){return b.docscroll.scrollLeft(e)};this.getTarget=function(e){return!e?!1:e.target?e.target:e.srcElement?e.srcElement:!1};this.hasParent=function(e,t){if(!e)return!1;for(var n=e.target||e.srcElement||e||!1;n&&n.id!=t;)n=n.parentNode||!1;return!1!==n};var N={thin:1,medium:3,thick:5};this.getOffset=function(){if(b.isfixed)return{top:parseFloat(b.win.css("top")),left:parseFloat(b.win.css("left"))};if(!b.viewport)return b.win.offset();var e=b.win.offset(),t=b.viewport.offset();return{top:e.top-t.top+b.viewport.scrollTop(),left:e.left-t.left+b.viewport.scrollLeft()}};this.updateScrollBar=function(e){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()}),b.railh&&b.railh.css({width:b.win.innerWidth()});else{var t=b.getOffset(),n=t.top,r=t.left,n=n+m(b.win,"border-top-width",!0);b.win.outerWidth();b.win.innerWidth();var r=r+(b.rail.align?b.win.outerWidth()-m(b.win,"border-right-width")-b.rail.width:m(b.win,"border-left-width")),i=b.opt.railoffset;i&&(i.top&&(n+=i.top),b.rail.align&&i.left&&(r+=i.left));b.locked||b.rail.css({top:n,left:r,height:e?e.h:b.win.innerHeight()});b.zoom&&b.zoom.css({top:n+1,left:1==b.rail.align?r-20:r+b.rail.width+4});b.railh&&!b.locked&&(n=t.top,r=t.left,e=b.railh.align?n+m(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:n+m(b.win,"border-top-width",!0),r+=m(b.win,"border-left-width"),b.railh.css({top:e,left:r,width:b.railh.width}))}};this.doRailClick=function(e,t,n){var r;b.locked||(b.cancelEvent(e),t?(t=n?b.doScrollLeft:b.doScrollTop,r=n?(e.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(e.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,t(r)):(t=n?b.doScrollLeftBy:b.doScrollBy,r=n?b.scroll.x:b.scroll.y,e=n?e.pageX-b.railh.offset().left:e.pageY-b.rail.offset().top,n=n?b.view.w:b.view.h,r>=e?t(n):t(-n)))};b.hasanimationframe=u;b.hascancelanimationframe=f;b.hasanimationframe?b.hascancelanimationframe||(f=function(){b.cancelAnimationFrame=!0}):(u=function(e){return setTimeout(e,15-Math.floor(+(new Date)/1e3)%16)},f=clearInterval);this.init=function(){b.saved.css=[];if(S.isie7mobile)return!0;S.hasmstouch&&b.css(b.ispage?e("html"):b.win,{"-ms-touch-action":"none"});b.zindex="auto";b.zindex=!b.ispage&&"auto"==b.opt.zindex?d()||"auto":b.opt.zindex;!b.ispage&&"auto"!=b.zindex&&b.zindex>s&&(s=b.zindex);b.isie&&0==b.zindex&&"auto"==b.opt.zindex&&(b.zindex="auto");if(!b.ispage||!S.cantouch&&!S.isieold&&!S.isie9mobile){var i=b.docscroll;b.ispage&&(i=b.haswrapper?b.win:b.doc);S.isie9mobile||b.css(i,{"overflow-y":"hidden"});b.ispage&&S.isie7&&("BODY"==b.doc[0].nodeName?b.css(e("html"),{"overflow-y":"hidden"}):"HTML"==b.doc[0].nodeName&&b.css(e("body"),{"overflow-y":"hidden"}));S.isios&&!b.ispage&&!b.haswrapper&&b.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var u=e(document.createElement("div"));u.css({position:"relative",top:0,"float":"right",width:b.opt.cursorwidth,height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});u.hborder=parseFloat(u.outerHeight()-u.innerHeight());b.cursor=u;var a=e(document.createElement("div"));a.attr("id",b.id);a.addClass("nicescroll-rails");var f,c,h=["left","right"],p;for(p in h)c=h[p],(f=b.opt.railpadding[c])?a.css("padding-"+c,f+"px"):b.opt.railpadding[c]=0;a.append(u);a.width=Math.max(parseFloat(b.opt.cursorwidth),u.outerWidth())+b.opt.railpadding.left+b.opt.railpadding.right;a.css({width:a.width+"px",zIndex:b.zindex,background:b.opt.background,cursor:"default"});a.visibility=!0;a.scrollable=!0;a.align="left"==b.opt.railalign?0:1;b.rail=a;u=b.rail.drag=!1;b.opt.boxzoom&&!b.ispage&&!S.isieold&&(u=document.createElement("div"),b.bind(u,"click",b.doZoom),b.zoom=e(u),b.zoom.css({cursor:"pointer","z-index":b.zindex,backgroundImage:"url("+o+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),S.cantouch&&b.opt.gesturezoom&&(b.ongesturezoom=function(e){1.5<e.scale&&b.doZoomIn(e);.8>e.scale&&b.doZoomOut(e);return b.cancelEvent(e)},b.bind(b.win,"gestureend",b.ongesturezoom)));b.railh=!1;if(b.opt.horizrailenabled){b.css(i,{"overflow-x":"hidden"});u=e(document.createElement("div"));u.css({position:"relative",top:0,height:b.opt.cursorwidth,width:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});u.wborder=parseFloat(u.outerWidth()-u.innerWidth());b.cursorh=u;var m=e(document.createElement("div"));m.attr("id",b.id+"-hr");m.addClass("nicescroll-rails");m.height=Math.max(parseFloat(b.opt.cursorwidth),u.outerHeight());m.css({height:m.height+"px",zIndex:b.zindex,background:b.opt.background});m.append(u);m.visibility=!0;m.scrollable=!0;m.align="top"==b.opt.railvalign?0:1;b.railh=m;b.railh.drag=!1}b.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),b.body.append(a),b.railh&&(m.css({position:"fixed",left:"0px",width:"100%"}),m.align?m.css({bottom:"0px"}):m.css({top:"0px"}),b.body.append(m))):(b.ishwscroll?("static"==b.win.css("position")&&b.css(b.win,{position:"relative"}),i="HTML"==b.win[0].nodeName?b.body:b.win,b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),i.append(b.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),i.append(a),m&&(m.css({position:"absolute",left:0,bottom:0}),m.align?m.css({bottom:0}):m.css({top:0}),i.append(m))):(b.isfixed="fixed"==b.win.css("position"),i=b.isfixed?"fixed":"absolute",b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,!1==/relative|absolute/.test(b.viewport.css("position"))&&b.css(b.viewport,{position:"relative"})),a.css({position:i}),b.zoom&&b.zoom.css({position:i}),b.updateScrollBar(),b.body.append(a),b.zoom&&b.body.append(b.zoom),b.railh&&(m.css({position:i}),b.body.append(m))),S.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),S.isie&&b.opt.disableoutline&&b.win.attr("hideFocus","true"),S.iswebkit&&b.opt.disableoutline&&b.win.css({outline:"none"}));!1===b.opt.autohidemode?(b.autohidedom=!1,b.rail.css({opacity:b.opt.cursoropacitymax}),b.railh&&b.railh.css({opacity:b.opt.cursoropacitymax})):!0===b.opt.autohidemode?(b.autohidedom=e().add(b.rail),S.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&S.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==b.opt.autohidemode?(b.autohidedom=e().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==b.opt.autohidemode?(b.autohidedom=e().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==b.opt.autohidemode&&(b.autohidedom=!1,b.hide(),b.locked=!1);if(S.isie9mobile)b.scrollmom=new v(b),b.onmangotouch=function(e){e=b.getScrollTop();var t=b.getScrollLeft();if(e==b.scrollmom.lastscrolly&&t==b.scrollmom.lastscrollx)return!0;var n=e-b.mangotouch.sy,r=t-b.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(n,2)))){var i=0>n?-1:1,s=0>r?-1:1,o=+(new Date);b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy);80<o-b.mangotouch.tm||b.mangotouch.dry!=i||b.mangotouch.drx!=s?(b.scrollmom.stop(),b.scrollmom.reset(t,e),b.mangotouch.sy=e,b.mangotouch.ly=e,b.mangotouch.sx=t,b.mangotouch.lx=t,b.mangotouch.dry=i,b.mangotouch.drx=s,b.mangotouch.tm=o):(b.scrollmom.stop(),b.scrollmom.update(b.mangotouch.sx-r,b.mangotouch.sy-n),b.mangotouch.tm=o,n=Math.max(Math.abs(b.mangotouch.ly-e),Math.abs(b.mangotouch.lx-t)),b.mangotouch.ly=e,b.mangotouch.lx=t,2<n&&(b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=!1;b.mangotouch.dry=0;b.mangotouch.drx=0;b.mangotouch.tm=0;b.scrollmom.doMomentum(30)},100)))}},a=b.getScrollTop(),m=b.getScrollLeft(),b.mangotouch={sy:a,ly:a,dry:0,sx:m,lx:m,drx:0,lazy:!1,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch);else{if(S.cantouch||b.istouchcapable||b.opt.touchbehavior||S.hasmstouch){b.scrollmom=new v(b);b.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType)return!1;if(!b.locked){if(S.hasmstouch)for(var n=t.target?t.target:!1;n;){var r=e(n).getNiceScroll();if(0<r.length&&r[0].me==b.me)break;if(0<r.length)return!1;if("DIV"==n.nodeName&&n.id==b.id)break;n=n.parentNode?n.parentNode:!1}b.cancelScroll();if((n=b.getTarget(t))&&/INPUT/i.test(n.nodeName)&&/range/i.test(n.type))return b.stopPropagation(t);!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY);b.forcescreen&&(r=t,t={original:t.original?t.original:t},t.clientX=r.screenX,t.clientY=r.screenY);b.rail.drag={x:t.clientX,y:t.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1};if(b.ispage||!b.opt.directionlockdeadzone)b.rail.drag.dl="f";else{var r=e(window).width(),i=e(window).height(),s=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),o=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),i=Math.max(0,o-i),r=Math.max(0,s-r);b.rail.drag.ck=!b.rail.scrollable&&b.railh.scrollable?0<i?"v":!1:b.rail.scrollable&&!b.railh.scrollable?0<r?"h":!1:!1;b.rail.drag.ck||(b.rail.drag.dl="f")}b.opt.touchbehavior&&b.isiframe&&S.isie&&(r=b.win.position(),b.rail.drag.x+=r.left,b.rail.drag.y+=r.top);b.hasmoving=!1;b.lastmouseup=!1;b.scrollmom.reset(t.clientX,t.clientY);if(!S.cantouch&&!this.istouchcapable&&!S.hasmstouch){if(!n||!/INPUT|SELECT|TEXTAREA/i.test(n.nodeName))return!b.ispage&&S.hasmousecapture&&n.setCapture(),b.cancelEvent(t);/SUBMIT|CANCEL|BUTTON/i.test(e(n).attr("type"))&&(pc={tg:n,click:!1},b.preventclick=pc)}}};b.ontouchend=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt&&(b.scrollmom.doMomentum(),b.rail.drag=!1,b.hasmoving&&(b.hasmoving=!1,b.lastmouseup=!0,b.hideCursor(),S.hasmousecapture&&document.releaseCapture(),!S.cantouch)))return b.cancelEvent(e)};var g=b.opt.touchbehavior&&b.isiframe&&!S.hasmousecapture;b.ontouchmove=function(t,n){if(t.pointerType&&2!=t.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt){if(S.cantouch&&"undefined"==typeof t.original)return!0;b.hasmoving=!0;b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick);t=e.extend({original:t},t);"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY);if(b.forcescreen){var r=t;t={original:t.original?t.original:t};t.clientX=r.screenX;t.clientY=r.screenY}r=ofy=0;if(g&&!n){var i=b.win.position(),r=-i.left;ofy=-i.top}var s=t.clientY+ofy,i=s-b.rail.drag.y,o=t.clientX+r,u=o-b.rail.drag.x,a=b.rail.drag.st-i;b.ishwscroll&&b.opt.bouncescroll?0>a?a=Math.round(a/2):a>b.page.maxh&&(a=b.page.maxh+Math.round((a-b.page.maxh)/2)):(0>a&&(s=a=0),a>b.page.maxh&&(a=b.page.maxh,s=0));if(b.railh&&b.railh.scrollable){var f=b.rail.drag.sl-u;b.ishwscroll&&b.opt.bouncescroll?0>f?f=Math.round(f/2):f>b.page.maxw&&(f=b.page.maxw+Math.round((f-b.page.maxw)/2)):(0>f&&(o=f=0),f>b.page.maxw&&(f=b.page.maxw,o=0))}r=!1;if(b.rail.drag.dl)r=!0,"v"==b.rail.drag.dl?f=b.rail.drag.sl:"h"==b.rail.drag.dl&&(a=b.rail.drag.st);else{var i=Math.abs(i),u=Math.abs(u),l=b.opt.directionlockdeadzone;if("v"==b.rail.drag.ck){if(i>l&&u<=.3*i)return b.rail.drag=!1,!0;u>l&&(b.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==b.rail.drag.ck){if(u>l&&i<=.3*az)return b.rail.drag=!1,!0;i>l&&(b.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.prepareTransition(0),b.rail.scrollable&&b.setScrollTop(a),b.scrollmom.update(o,s),b.railh&&b.railh.scrollable?(b.setScrollLeft(f),b.showCursor(a,f)):b.showCursor(a),S.isie10&&document.selection.clear())});S.ischrome&&b.istouchcapable&&(r=!1);if(r)return b.cancelEvent(t)}}}b.onmousedown=function(e,t){if(!(b.rail.drag&&1!=b.rail.drag.pt)){if(b.locked)return b.cancelEvent(e);b.cancelScroll();b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:!!t};var n=b.getTarget(e);!b.ispage&&S.hasmousecapture&&n.setCapture();b.isiframe&&!S.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"}));return b.cancelEvent(e)}};b.onmouseup=function(e){if(b.rail.drag&&(S.hasmousecapture&&document.releaseCapture(),b.isiframe&&!S.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),1==b.rail.drag.pt))return b.rail.drag=!1,b.cancelEvent(e)};b.onmousemove=function(e){if(b.rail.drag&&1==b.rail.drag.pt){if(S.ischrome&&0==e.which)return b.onmouseup(e);b.cursorfreezed=!0;if(b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(e.clientX-b.rail.drag.x);0>b.scroll.x&&(b.scroll.x=0);var t=b.scrollvaluemaxw;b.scroll.x>t&&(b.scroll.x=t)}else b.scroll.y=b.rail.drag.sy+(e.clientY-b.rail.drag.y),0>b.scroll.y&&(b.scroll.y=0),t=b.scrollvaluemax,b.scroll.y>t&&(b.scroll.y=t);b.synched("mousemove",function(){b.rail.drag&&1==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),b.opt.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),b.opt.cursordragspeed))});return b.cancelEvent(e)}};if(S.cantouch||b.opt.touchbehavior)b.onpreventclick=function(e){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(e)},b.bind(b.win,"mousedown",b.ontouchstart),b.onclick=S.isios?!1:function(e){return b.lastmouseup?(b.lastmouseup=!1,b.cancelEvent(e)):!0},b.opt.grabcursorenabled&&S.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:S.cursorgrabvalue}),b.css(b.rail,{cursor:S.cursorgrabvalue}));else{var y=function(e){if(b.selectiondrag){if(e){var t=b.win.outerHeight();e=e.pageY-b.selectiondrag.top;0<e&&e<t&&(e=0);e>=t&&(e-=t);b.selectiondrag.df=e}0!=b.selectiondrag.df&&(b.doScrollBy(2*-Math.floor(b.selectiondrag.df/6)),b.debounced("doselectionscroll",function(){y()},50))}};b.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1};b.onselectionstart=function(e){b.ispage||(b.selectiondrag=b.win.offset())};b.onselectionend=function(e){b.selectiondrag=!1};b.onselectiondrag=function(e){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){y(e)},250)}}S.hasmstouch&&(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(e){e.preventDefault()}),b.bind(b.cursor,"contextmenu",function(e){e.preventDefault()}));this.istouchcapable&&(b.bind(b.win,"touchstart",b.ontouchstart),b.bind(document,"touchend",b.ontouchend),b.bind(document,"touchcancel",b.ontouchend),b.bind(document,"touchmove",b.ontouchmove));b.bind(b.cursor,"mousedown",b.onmousedown);b.bind(b.cursor,"mouseup",b.onmouseup);b.railh&&(b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.bind(b.cursorh,"mouseup",function(e){if(!(b.rail.drag&&2==b.rail.drag.pt))return b.rail.drag=!1,b.hasmoving=!1,b.hideCursor(),S.hasmousecapture&&document.releaseCapture(),b.cancelEvent(e)}));if(b.opt.cursordragontouch||!S.cantouch&&!b.opt.touchbehavior)b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.rail,"click",function(e){b.doRailClick(e,!1,!1)}),b.bind(b.rail,"dblclick",function(e){b.doRailClick(e,!0,!1)}),b.bind(b.cursor,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursor,"dblclick",function(e){b.cancelEvent(e)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.railh,"click",function(e){b.doRailClick(e,!1,!0)}),b.bind(b.railh,"dblclick",function(e){b.doRailClick(e,!0,!0)}),b.bind(b.cursorh,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursorh,"dblclick",function(e){b.cancelEvent(e)})));!S.cantouch&&!b.opt.touchbehavior?(b.bind(S.hasmousecapture?b.win:document,"mouseup",b.onmouseup),b.bind(document,"mousemove",b.onmousemove),b.onclick&&b.bind(document,"click",b.onclick),!b.ispage&&b.opt.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(document,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(document,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}))):(b.bind(S.hasmousecapture?b.win:document,"mouseup",b.ontouchend),b.bind(document,"mousemove",b.ontouchmove),b.onclick&&b.bind(document,"click",b.onclick),b.opt.cursordragontouch&&(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mousemove",b.onmousemove),b.cursorh&&b.bind(b.cursorh,"mousedown",b.onmousedown),b.cursorh&&b.bind(b.cursorh,"mousemove",b.onmousemove)));b.opt.enablemousewheel&&(b.isiframe||b.bind(S.isie&&b.ispage?document:b.docscroll,"mousewheel",b.onmousewheel),b.bind(b.rail,"mousewheel",b.onmousewheel),b.railh&&b.bind(b.railh,"mousewheel",b.onmousewheelhr));!b.ispage&&!S.cantouch&&!/HTML|BODY/.test(b.win[0].nodeName)&&(b.win.attr("tabindex")||b.win.attr({tabindex:r++}),b.jqbind(b.win,"focus",function(e){t=b.getTarget(e).id||!0;b.hasfocus=!0;b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"blur",function(e){t=!1;b.hasfocus=!1}),b.jqbind(b.win,"mouseenter",function(e){n=b.getTarget(e).id||!0;b.hasmousefocus=!0;b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"mouseleave",function(){n=!1;b.hasmousefocus=!1}))}b.onkeypress=function(e){if(b.locked&&0==b.page.maxh)return!0;e=e?e:window.e;var r=b.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!r.getAttribute("type")&&!r.type||!/submit|button|cancel/i.tp))return!0;if(b.hasfocus||b.hasmousefocus&&!t||b.ispage&&!t&&!n){r=e.keyCode;if(b.locked&&27!=r)return b.cancelEvent(e);var i=e.ctrlKey||!1,s=e.shiftKey||!1,o=!1;switch(r){case 38:case 63233:b.doScrollBy(72);o=!0;break;case 40:case 63235:b.doScrollBy(-72);o=!0;break;case 37:case 63232:b.railh&&(i?b.doScrollLeft(0):b.doScrollLeftBy(72),o=!0);break;case 39:case 63234:b.railh&&(i?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),o=!0);break;case 33:case 63276:b.doScrollBy(b.view.h);o=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h);o=!0;break;case 36:case 63273:b.railh&&i?b.doScrollPos(0,0):b.doScrollTo(0);o=!0;break;case 35:case 63275:b.railh&&i?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh);o=!0;break;case 32:b.opt.spacebarenabled&&(s?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),o=!0);break;case 27:b.zoomactive&&(b.doZoom(),o=!0)}if(o)return b.cancelEvent(e)}};b.opt.enablekeyboard&&b.bind(document,S.isopera&&!S.isopera12?"keypress":"keydown",b.onkeypress);b.bind(window,"resize",b.lazyResize);b.bind(window,"orientationchange",b.lazyResize);b.bind(window,"load",b.lazyResize);if(S.ischrome&&!b.ispage&&!b.haswrapper){var w=b.win.attr("style"),a=parseFloat(b.win.css("width"))+1;b.win.css("width",a);b.synched("chromefix",function(){b.win.attr("style",w)})}b.onAttributeChange=function(e){b.lazyResize(250)};!b.ispage&&!b.haswrapper&&(!1!==l?(b.observer=new l(function(e){e.forEach(b.onAttributeChange)}),b.observer.observe(b.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new l(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(e.removedNodes[t]==b.win[0])return b.remove()})}),b.observerremover.observe(b.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(b.win,S.isie&&!S.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),S.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange),b.bind(b.win,"DOMNodeRemoved",function(e){e.target==b.win[0]&&b.remove()})));!b.ispage&&b.opt.boxzoom&&b.bind(window,"resize",b.resizeZoom);b.istextarea&&b.bind(b.win,"mouseup",b.lazyResize);b.checkrtlmode=!0;b.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var E=function(t){b.iframexd=!1;try{var n="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(r){b.iframexd=!0,n=!1}if(b.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;b.forcescreen=!0;b.isiframe&&(b.iframe={doc:e(n),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=e(b.iframe.body));!S.isios&&b.opt.iframeautoresize&&!b.isiframe&&(b.win.scrollTop(0),b.doc.height(""),t=Math.max(n.getElementsByTagName("html")[0].scrollHeight,n.body.scrollHeight),b.doc.height(t));b.lazyResize(30);S.isie7&&b.css(e(b.iframe.html),{"overflow-y":"hidden"});b.css(e(b.iframe.body),{"overflow-y":"hidden"});"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(n,"scroll",b.onscroll);b.opt.enablemousewheel&&b.bind(n,"mousewheel",b.onmousewheel);b.opt.enablekeyboard&&b.bind(n,S.isopera?"keypress":"keydown",b.onkeypress);if(S.cantouch||b.opt.touchbehavior)b.bind(n,"mousedown",b.onmousedown),b.bind(n,"mousemove",function(e){b.onmousemove(e,!0)}),b.opt.grabcursorenabled&&S.cursorgrabvalue&&b.css(e(n.body),{cursor:S.cursorgrabvalue});b.bind(n,"mouseup",b.onmouseup);b.zoom&&(b.opt.dblclickzoom&&b.bind(n,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(n,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){E.call(b.doc[0],!1)},500);b.bind(this.doc,"load",E)}};this.showCursor=function(e,t){b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0);if(b.rail){b.autohidedom&&(b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),b.cursoractive=!0);if(!b.rail.drag||1!=b.rail.drag.pt)"undefined"!=typeof e&&!1!==e&&(b.scroll.y=Math.round(1*e/b.scrollratio.y)),"undefined"!=typeof t&&(b.scroll.x=Math.round(1*t/b.scrollratio.x));b.cursor.css({height:b.cursorheight,top:b.scroll.y});b.cursorh&&(!b.rail.align&&b.rail.visibility?b.cursorh.css({width:b.cursorwidth,left:b.scroll.x+b.rail.width}):b.cursorh.css({width:b.cursorwidth,left:b.scroll.x}),b.cursoractive=!0);b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax})}};this.hideCursor=function(e){!b.cursortimeout&&b.rail&&b.autohidedom&&(b.cursortimeout=setTimeout(function(){if(!b.rail.active||!b.showonmouseevent)b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}),b.cursoractive=!1;b.cursortimeout=0},e||b.opt.hidecursordelay))};this.noticeCursor=function(e,t,n){b.showCursor(t,n);b.rail.active||b.hideCursor(e)};this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+parseInt(b.win.css("paddingTop"))+parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}};this.onResize=function(e,t){if(!b.win)return!1;if(!b.haswrapper&&!b.ispage){if("none"==b.win.css("display"))return b.visibility&&b.hideRail().hideRailHr(),!1;!b.hidden&&!b.visibility&&b.showRail().showRailHr()}var n=b.page.maxh,r=b.page.maxw,i=b.view.w;b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)};b.page=t?t:b.getContentSize();b.page.maxh=Math.max(0,b.page.h-b.view.h);b.page.maxw=Math.max(0,b.page.w-b.view.w);if(b.page.maxh==n&&b.page.maxw==r&&b.view.w==i){if(b.ispage)return b;n=b.win.offset();if(b.lastposition&&(r=b.lastposition,r.top==n.top&&r.left==n.left))return b;b.lastposition=n}0==b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail.scrollable=!1):b.rail.scrollable=!0;0==b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh.scrollable=!1):b.railh.scrollable=!0;b.locked=0==b.page.maxh&&0==b.page.maxw;if(b.locked)return b.ispage||b.updateScrollBar(b.view),!1;!b.hidden&&!b.visibility?b.showRail().showRailHr():!b.hidden&&!b.railh.visibility&&b.showRailHr();b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20);b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h)));b.cursorheight=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorheight);b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w*(b.view.w/b.page.w)));b.cursorwidth=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorwidth);b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder;b.railh&&(b.railh.width=0<b.page.maxh?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-b.cursorh.wborder);b.checkrtlmode&&b.railh&&(b.checkrtlmode=!1,b.opt.rtlmode&&0==b.scroll.x&&b.setScrollLeft(b.page.maxw));b.ispage||b.updateScrollBar(b.view);b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax};b.getScrollTop()>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)),b.cursoractive&&b.noticeCursor());b.scroll.y&&0==b.getScrollTop()&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y));return b};this.resize=b.onResize;this.lazyResize=function(e){e=isNaN(e)?30:e;b.delayed("resize",b.resize,e);return b};this._bind=function(e,t,n,r){b.events.push({e:e,n:t,f:n,b:r,q:!1});e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n};this.jqbind=function(t,n,r){b.events.push({e:t,n:n,f:r,q:!0});e(t).bind(n,r)};this.bind=function(e,t,n,r){var i="jquery"in e?e[0]:e;"mousewheel"==t?"onwheel"in b.win?b._bind(i,"wheel",n,r||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",g(i,e,n,r||!1),"DOMMouseScroll"==e&&g(i,"MozMousePixelScroll",n,r||!1)):i.addEventListener?(S.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&b._bind(i,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var t=e.touches.length?e.touches[0]:e;t.original=e;n.call(this,t)}}else e.changedTouches&&(t=e.changedTouches[0],t.original=e,n.call(this,t))},r||!1),b._bind(i,t,n,r||!1),S.cantouch&&"mouseup"==t&&b._bind(i,"touchcancel",n,r||!1)):b._bind(i,t,function(e){if((e=e||window.event||!1)&&e.srcElement)e.target=e.srcElement;"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);return!1===n.call(i,e)||!1===r?b.cancelEvent(e):!0})};this._unbind=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=!1};this.unbindAll=function(){for(var e=0;e<b.events.length;e++){var t=b.events[e];t.q?t.e.unbind(t.n,t.f):b._unbind(t.e,t.n,t.f,t.b)}};this.cancelEvent=function(e){e=e.original?e.original:e?e:window.event||!1;if(!e)return!1;e.preventDefault&&e.preventDefault();e.stopPropagation&&e.stopPropagation();e.preventManipulation&&e.preventManipulation();e.cancelBubble=!0;e.cancel=!0;return e.returnValue=!1};this.stopPropagation=function(e){e=e.original?e.original:e?e:window.event||!1;if(!e)return!1;if(e.stopPropagation)return e.stopPropagation();e.cancelBubble&&(e.cancelBubble=!0);return!1};this.showRail=function(){if(0!=b.page.maxh&&(b.ispage||"none"!=b.win.css("display")))b.visibility=!0,b.rail.visibility=!0,b.rail.css("display","block");return b};this.showRailHr=function(){if(!b.railh)return b;if(0!=b.page.maxw&&(b.ispage||"none"!=b.win.css("display")))b.railh.visibility=!0,b.railh.css("display","block");return b};this.hideRail=function(){b.visibility=!1;b.rail.visibility=!1;b.rail.css("display","none");return b};this.hideRailHr=function(){if(!b.railh)return b;b.railh.visibility=!1;b.railh.css("display","none");return b};this.show=function(){b.hidden=!1;b.locked=!1;return b.showRail().showRailHr()};this.hide=function(){b.hidden=!0;b.locked=!0;return b.hideRail().hideRailHr()};this.toggle=function(){return b.hidden?b.show():b.hide()};this.remove=function(){b.stop();b.cursortimeout&&clearTimeout(b.cursortimeout);b.doZoomOut();b.unbindAll();!1!==b.observer&&b.observer.disconnect();!1!==b.observerremover&&b.observerremover.disconnect();b.events=[];b.cursor&&(b.cursor.remove(),b.cursor=null);b.cursorh&&(b.cursorh.remove(),b.cursorh=null);b.rail&&(b.rail.remove(),b.rail=null);b.railh&&(b.railh.remove(),b.railh=null);b.zoom&&(b.zoom.remove(),b.zoom=null);for(var e=0;e<b.saved.css.length;e++){var t=b.saved.css[e];t[0].css(t[1],"undefined"==typeof t[2]?"":t[2])}b.saved=!1;b.me.data("__nicescroll","");b.me=null;b.doc=null;b.docscroll=null;b.win=null;return b};this.scrollstart=function(e){this.onscrollstart=e;return b};this.scrollend=function(e){this.onscrollend=e;return b};this.scrollcancel=function(e){this.onscrollcancel=e;return b};this.zoomin=function(e){this.onzoomin=e;return b};this.zoomout=function(e){this.onzoomout=e;return b};this.isScrollable=function(t){t=t.target?t.target:t;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var n=e(t),n=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(n))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1};this.getViewport=function(t){for(t=t&&t.parentNode?t.parentNode:!1;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var n=e(t),r=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(r)&&t.clientHeight!=t.scrollHeight||0<n.getNiceScroll().length)return n;t=t.parentNode?t.parentNode:!1}return!1};this.onmousewheel=function(e){if(b.locked)return!0;if(b.rail.drag)return b.cancelEvent(e);if(!b.rail.scrollable)return b.railh&&b.railh.scrollable?b.onmousewheelhr(e):!0;var t=+(new Date),n=!1;b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),n=!0);b.checkarea=t;if(b.nativescrollingarea)return!0;if(e=y(e,!1,n))b.checkarea=0;return e};this.onmousewheelhr=function(e){if(b.locked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(e);var t=+(new Date),n=!1;b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),n=!0);b.checkarea=t;return b.nativescrollingarea?!0:b.locked?b.cancelEvent(e):y(e,!0,n)};this.stop=function(){b.cancelScroll();b.scrollmon&&b.scrollmon.stop();b.cursorfreezed=!1;b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.noticeCursor();return b};this.getTransitionSpeed=function(e){var t=Math.round(10*b.opt.scrollspeed);e=Math.min(t,Math.round(e/20*b.opt.scrollspeed));return 20<e?e:0};b.opt.smoothscroll?b.ishwscroll&&S.hastransition&&b.opt.usetransition?(this.prepareTransition=function(e,t){var n=t?20<e?e:0:b.getTransitionSpeed(e),r=n?S.prefixstyle+"transform "+n+"ms ease-out":"";if(!b.lasttransitionstyle||b.lasttransitionstyle!=r)b.lasttransitionstyle=r,b.doc.css(S.transitionstyle,r);return n},this.doScrollLeft=function(e,t){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var r=b.getScrollTop(),i=b.getScrollLeft();(0>(b.newscrolly-r)*(t-r)||0>(b.newscrollx-i)*(e-i))&&b.cancelScroll();!1==b.opt.bouncescroll&&(0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>e?e=0:e>b.page.maxw&&(e=b.page.maxw));if(b.scrollrunning&&e==b.newscrollx&&t==b.newscrolly)return!1;b.newscrolly=t;b.newscrollx=e;b.newscrollspeed=n||!1;if(b.timer)return!1;b.timer=setTimeout(function(){var n=b.getScrollTop(),r=b.getScrollLeft(),i,s;i=e-r;s=t-n;i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(s,2)));i=b.newscrollspeed&&1<b.newscrollspeed?b.newscrollspeed:b.getTransitionSpeed(i);b.newscrollspeed&&1>=b.newscrollspeed&&(i*=b.newscrollspeed);b.prepareTransition(i,!0);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);0<i&&(!b.scrollrunning&&b.onscrollstart&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:i}),S.transitionend?b.scrollendtrapped||(b.scrollendtrapped=!0,b.bind(b.doc,S.transitionend,b.onScrollEnd,!1)):(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollEnd,i)),b.timerscroll={bz:new BezierClass(n,b.newscrolly,i,0,0,.58,1),bh:new BezierClass(r,b.newscrollx,i,0,0,.58,1)},b.cursorfreezed||(b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop(),b.getScrollLeft())},60)));b.synched("doScroll-set",function(){b.timer=0;b.scrollendtrapped&&(b.scrollrunning=!0);b.setScrollTop(b.newscrolly);b.setScrollLeft(b.newscrollx);if(!b.scrollendtrapped)b.onScrollEnd()})},50)},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var e=b.getScrollTop(),t=b.getScrollLeft();b.scrollrunning=!1;S.transitionend||clearTimeout(S.transitionend);b.scrollendtrapped=!1;b._unbind(b.doc,S.transitionend,b.onScrollEnd);b.prepareTransition(0);b.setScrollTop(e);b.railh&&b.setScrollLeft(t);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;b.cursorfreezed=!1;b.showCursor(e,t);return b},this.onScrollEnd=function(){b.scrollendtrapped&&b._unbind(b.doc,S.transitionend,b.onScrollEnd);b.scrollendtrapped=!1;b.prepareTransition(0);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;var e=b.getScrollTop(),t=b.getScrollLeft();b.setScrollTop(e);b.railh&&b.setScrollLeft(t);b.noticeCursor(!1,e,t);b.cursorfreezed=!1;0>e?e=0:e>b.page.maxh&&(e=b.page.maxh);0>t?t=0:t>b.page.maxw&&(t=b.page.maxw);if(e!=b.newscrolly||t!=b.newscrollx)return b.doScrollPos(t,e,b.opt.snapbackspeed);b.onscrollend&&b.scrollrunning&&b.onscrollend.call(b,{type:"scrollend",current:{x:t,y:e},end:{x:b.newscrollx,y:b.newscrolly}});b.scrollrunning=!1}):(this.doScrollLeft=function(e,t){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){function r(){if(b.cancelAnimationFrame)return!0;b.scrollrunning=!0;if(c=1-c)return b.timer=u(r)||1;var e=0,t=sy=b.getScrollTop();if(b.dst.ay){var t=b.bzscroll?b.dst.py+b.bzscroll.getNow()*b.dst.ay:b.newscrolly,n=t-sy;if(0>n&&t<b.newscrolly||0<n&&t>b.newscrolly)t=b.newscrolly;b.setScrollTop(t);t==b.newscrolly&&(e=1)}else e=1;var i=sx=b.getScrollLeft();if(b.dst.ax){i=b.bzscroll?b.dst.px+b.bzscroll.getNow()*b.dst.ax:b.newscrollx;n=i-sx;if(0>n&&i<b.newscrollx||0<n&&i>b.newscrollx)i=b.newscrollx;b.setScrollLeft(i);i==b.newscrollx&&(e+=1)}else e+=1;2==e?(b.timer=0,b.cursorfreezed=!1,b.bzscroll=!1,b.scrollrunning=!1,0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>i?i=0:i>b.page.maxw&&(i=b.page.maxw),i!=b.newscrollx||t!=b.newscrolly?b.doScrollPos(i,t):b.onscrollend&&b.onscrollend.call(b,{type:"scrollend",current:{x:sx,y:sy},end:{x:b.newscrollx,y:b.newscrolly}})):b.timer=u(r)||1}t="undefined"==typeof t||!1===t?b.getScrollTop(!0):t;if(b.timer&&b.newscrolly==t&&b.newscrollx==e)return!0;b.timer&&f(b.timer);b.timer=0;var i=b.getScrollTop(),s=b.getScrollLeft();(0>(b.newscrolly-i)*(t-i)||0>(b.newscrollx-s)*(e-s))&&b.cancelScroll();b.newscrolly=t;b.newscrollx=e;if(!b.bouncescroll||!b.rail.visibility)0>b.newscrolly?b.newscrolly=0:b.newscrolly>b.page.maxh&&(b.newscrolly=b.page.maxh);if(!b.bouncescroll||!b.railh.visibility)0>b.newscrollx?b.newscrollx=0:b.newscrollx>b.page.maxw&&(b.newscrollx=b.page.maxw);b.dst={};b.dst.x=e-s;b.dst.y=t-i;b.dst.px=s;b.dst.py=i;var o=Math.round(Math.sqrt(Math.pow(b.dst.x,2)+Math.pow(b.dst.y,2)));b.dst.ax=b.dst.x/o;b.dst.ay=b.dst.y/o;var a=0,l=o;0==b.dst.x?(a=i,l=t,b.dst.ay=1,b.dst.py=0):0==b.dst.y&&(a=s,l=e,b.dst.ax=1,b.dst.px=0);o=b.getTransitionSpeed(o);n&&1>=n&&(o*=n);b.bzscroll=0<o?b.bzscroll?b.bzscroll.update(l,o):new BezierClass(a,l,o,0,1,0,1):!1;if(!b.timer){(i==b.page.maxh&&t>=b.page.maxh||s==b.page.maxw&&e>=b.page.maxw)&&b.checkContentSize();var c=1;b.cancelAnimationFrame=!1;b.timer=1;b.onscrollstart&&!b.scrollrunning&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:s,y:i},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:o});r();(i==b.page.maxh&&t>=i||s==b.page.maxw&&e>=s)&&b.checkContentSize();b.noticeCursor()}},this.cancelScroll=function(){b.timer&&f(b.timer);b.timer=0;b.bzscroll=!1;b.scrollrunning=!1;return b}):(this.doScrollLeft=function(e,t){var n=b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var r=e>b.page.maxw?b.page.maxw:e;0>r&&(r=0);var i=t>b.page.maxh?b.page.maxh:t;0>i&&(i=0);b.synched("scroll",function(){b.setScrollTop(i);b.setScrollLeft(r)})},this.cancelScroll=function(){});this.doScrollBy=function(e,t){var n=0,n=t?Math.floor((b.scroll.y-e)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(!0))-e;if(b.bouncescroll){var r=Math.round(b.view.h/2);n<-r?n=-r:n>b.page.maxh+r&&(n=b.page.maxh+r)}b.cursorfreezed=!1;py=b.getScrollTop(!0);if(0>n&&0>=py)return b.noticeCursor();if(n>b.page.maxh&&py>=b.page.maxh)return b.checkContentSize(),b.noticeCursor();b.doScrollTop(n)};this.doScrollLeftBy=function(e,t){var n=0,n=t?Math.floor((b.scroll.x-e)*b.scrollratio.x):(b.timer?b.newscrollx:b.getScrollLeft(!0))-e;if(b.bouncescroll){var r=Math.round(b.view.w/2);n<-r?n=-r:n>b.page.maxw+r&&(n=b.page.maxw+r)}b.cursorfreezed=!1;px=b.getScrollLeft(!0);if(0>n&&0>=px||n>b.page.maxw&&px>=b.page.maxw)return b.noticeCursor();b.doScrollLeft(n)};this.doScrollTo=function(e,t){t&&Math.round(e*b.scrollratio.y);b.cursorfreezed=!1;b.doScrollTop(e)};this.checkContentSize=function(){var e=b.getContentSize();(e.h!=b.page.h||e.w!=b.page.w)&&b.resize(!1,e)};b.onscroll=function(e){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)));b.noticeCursor()})};b.bind(b.docscroll,"scroll",b.onscroll);this.doZoomIn=function(t){if(!b.zoomactive){b.zoomactive=!0;b.zoomrestore={style:{}};var n="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),r=b.win[0].style,i;for(i in n){var o=n[i];b.zoomrestore.style[o]="undefined"!=typeof r[o]?r[o]:""}b.zoomrestore.style.width=b.win.css("width");b.zoomrestore.style.height=b.win.css("height");b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()};S.isios4&&(b.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0));b.win.css({position:S.isios4?"absolute":"fixed",top:0,left:0,"z-index":s+100,margin:"0px"});n=b.win.css("backgroundColor");(""==n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&b.win.css("backgroundColor","#fff");b.rail.css({"z-index":s+101});b.zoom.css({"z-index":s+102});b.zoom.css("backgroundPosition","0px -18px");b.resizeZoom();b.onzoomin&&b.onzoomin.call(b);return b.cancelEvent(t)}};this.doZoomOut=function(t){if(b.zoomactive)return b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),S.isios4&&e(window).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(t)};this.doZoom=function(e){return b.zoomactive?b.doZoomOut(e):b.doZoomIn(e)};this.resizeZoom=function(){if(b.zoomactive){var t=b.getScrollTop();b.win.css({width:e(window).width()-b.zoomrestore.padding.w+"px",height:e(window).height()-b.zoomrestore.padding.h+"px"});b.onResize();b.setScrollTop(Math.min(b.page.maxh,t))}};this.init();e.nicescroll.push(this)},v=function(e){var t=this;this.nc=e;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return+(new Date)};this.reset=function(e,n){t.stop();var r=t.time();t.steptime=0;t.lasttime=r;t.speedx=0;t.speedy=0;t.lastx=e;t.lasty=n;t.lastscrollx=-1;t.lastscrolly=-1};this.update=function(e,n){var r=t.time();t.steptime=r-t.lasttime;t.lasttime=r;var r=n-t.lasty,i=e-t.lastx,s=t.nc.getScrollTop(),o=t.nc.getScrollLeft(),s=s+r,o=o+i;t.snapx=0>o||o>t.nc.page.maxw;t.snapy=0>s||s>t.nc.page.maxh;t.speedx=i;t.speedy=r;t.lastx=e;t.lasty=n};this.stop=function(){t.nc.unsynched("domomentum2d");t.timer&&clearTimeout(t.timer);t.timer=0;t.lastscrollx=-1;t.lastscrolly=-1};this.doSnapy=function(e,n){var r=!1;0>n?(n=0,r=!0):n>t.nc.page.maxh&&(n=t.nc.page.maxh,r=!0);0>e?(e=0,r=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,r=!0);r&&t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed)};this.doMomentum=function(e){var n=t.time(),r=e?n+e:t.lasttime;e=t.nc.getScrollLeft();var i=t.nc.getScrollTop(),s=t.nc.page.maxh,o=t.nc.page.maxw;t.speedx=0<o?Math.min(60,t.speedx):0;t.speedy=0<s?Math.min(60,t.speedy):0;r=r&&50>=n-r;if(0>i||i>s||0>e||e>o)r=!1;e=t.speedx&&r?t.speedx:!1;if(t.speedy&&r&&t.speedy||e){var u=Math.max(16,t.steptime);50<u&&(e=u/50,t.speedx*=e,t.speedy*=e,u=50);t.demulxy=0;t.lastscrollx=t.nc.getScrollLeft();t.chkx=t.lastscrollx;t.lastscrolly=t.nc.getScrollTop();t.chky=t.lastscrolly;var a=t.lastscrollx,f=t.lastscrolly,l=function(){var e=600<t.time()-n?.04:.02;if(t.speedx&&(a=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=a,0>a||a>o))e=.1;if(t.speedy&&(f=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=f,0>f||f>s))e=.1;t.demulxy=Math.min(1,t.demulxy+e);t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=a,t.nc.setScrollLeft(a));t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=f,t.nc.setScrollTop(f));t.timer||(t.nc.hideCursor(),t.doSnapy(a,f))});1>t.demulxy?t.timer=setTimeout(l,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(a,f))};l()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},m=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t,n,r){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollTop():m.call(t)},set:function(t,n){var r=e.data(t,"__nicescroll")||!1;r&&r.ishwscroll?r.setScrollTop(parseInt(n)):m.call(t,n);return this}};e.fn.scrollTop=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollTop():m.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):m.call(e(this),t)})};var g=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t,n,r){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollLeft():g.call(t)},set:function(t,n){var r=e.data(t,"__nicescroll")||!1;r&&r.ishwscroll?r.setScrollLeft(parseInt(n)):g.call(t,n);return this}};e.fn.scrollLeft=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollLeft():g.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):g.call(e(this),t)})};var y=function(t){var n=this;this.length=0;this.name="nicescrollarray";this.each=function(e){for(var t=0;t<n.length;t++)e.call(n[t]);return n};this.push=function(e){n[n.length]=e;n.length++};this.eq=function(e){return n[e]};if(t)for(a=0;a<t.length;a++){var r=e.data(t[a],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};(function(e,t,n){for(var r=0;r<t.length;r++)n(e,t[r])})(y.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}});e.fn.getNiceScroll=function(t){return"undefined"==typeof t?new y(this):e.data(this[t],"__nicescroll")||!1};e.extend(e.expr[":"],{nicescroll:function(t){return e.data(t,"__nicescroll")?!0:!1}});e.fn.niceScroll=function(t,n){"undefined"==typeof n&&"object"==typeof t&&!("jquery"in t)&&(n=t,t=!1);var r=new y;"undefined"==typeof n&&(n={});t&&(n.doc=e(t),n.win=e(this));var i=!("doc"in n);!i&&!("win"in n)&&(n.win=e(this));this.each(function(){var t=e(this).data("__nicescroll")||!1;t||(n.doc=i?e(this):n.doc,t=new d(n,e(this)),e(this).data("__nicescroll",t));r.push(t)});return 1==r.length?r[0]:r};window.NiceScroll={getjQuery:function(){return e}};e.nicescroll||(e.nicescroll=new y,e.nicescroll.options=c)})(jQuery);!function(e){e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s,o,u,f;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,o=this.options.trigger.split(" ");for(f=o.length;f--;)u=o[f],u=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):u!="manual"&&(i=u=="hover"?"mouseenter":"focus",s=u=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e.fn[this.type].defaults,r={},i;this._options&&e.each(this._options,function(e,t){n[e]!=t&&(r[e]=t)},this),i=e(t.currentTarget)[this.type](r).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(u);if(u.isDefaultPrevented())return;t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),r=t[0].offsetWidth,i=t[0].offsetHeight;switch(s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,s,o,u,a;n.offset(e).addClass(t).addClass("in"),s=n[0].offsetWidth,o=n[0].offsetHeight,t=="top"&&o!=i&&(e.top=e.top+i-o,a=!0),t=="bottom"||t=="top"?(u=0,e.left<0&&(u=e.left*-2,e.left=0,n.offset(e),s=n[0].offsetWidth,o=n[0].offsetHeight),this.replaceArrow(u-r+s,s,"left")):this.replaceArrow(o-i,o,"top"),a&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){r.off(e.support.transition.end).detach()},500);r.one(e.support.transition.end,function(){clearTimeout(t),r.detach()})}var n=this,r=this.tip(),i=e.Event("hide");this.$element.trigger(i);if(i.isDefaultPrevented())return;return r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():r.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery);!function(){var e=function(e){"use strict";function t(e){if(e.paused||e.ended||v)return!1;try{f.clearRect(0,0,u,o),f.drawImage(e,0,0,u,o)}catch(n){}setTimeout(t,L.duration,e),k.setIcon(a)}function n(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:!1}function r(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}e=e?e:{};var i,s,o,u,a,f,l,c,h,p,d,v,m,g={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1},y=[];d=function(){},c=v=!1;var b=function(){if(i=r(g,e),i.bgColor=n(i.bgColor),i.textColor=n(i.textColor),i.position=i.position.toLowerCase(),i.animation=L.types[""+i.animation]?i.animation:g.animation,"up"===i.position)for(var t=0;t<L.types[""+i.animation].length;t++){var c=L.types[""+i.animation][t];c.y=c.y<.6?c.y-.4:c.y-2*c.y+(1-c.w),L.types[""+i.animation][t]=c}i.type=E[""+i.type]?i.type:g.type;try{s=k.getIcon(),a=document.createElement("canvas"),l=document.createElement("img"),l.setAttribute("src",s.getAttribute("href")),l.onload=function(){o=l.height>0?l.height:32,u=l.width>0?l.width:32,a.height=o,a.width=u,f=a.getContext("2d"),w.ready()},m={},m.ff=/firefox/i.test(navigator.userAgent.toLowerCase()),m.chrome=/chrome/i.test(navigator.userAgent.toLowerCase()),m.opera=/opera/i.test(navigator.userAgent.toLowerCase()),m.ie=/msie/i.test(navigator.userAgent.toLowerCase())||/trident/i.test(navigator.userAgent.toLowerCase()),m.supported=m.chrome||m.ff||m.opera}catch(h){throw"Error initializing favico..."}},w={};w.ready=function(){c=!0,w.reset(),d()},w.reset=function(){y=[],h=!1,f.clearRect(0,0,u,o),f.drawImage(l,0,0,u,o),k.setIcon(a)},w.start=function(){if(c&&!p){var e=function(){h=y[0],p=!1,y.length>0&&(y.shift(),w.start())};y.length>0&&(p=!0,h?L.run(h.options,function(){L.run(y[0].options,function(){e()},!1)},!0):L.run(y[0].options,function(){e()},!1))}};var E={},S=function(e){return e.n=Math.abs(e.n),e.x=u*e.x,e.y=o*e.y,e.w=u*e.w,e.h=o*e.h,e};E.circle=function(e){e=S(e);var t=e.n>9&&e.n<100;t&&(e.x=e.x-.4*e.w,e.w=1.4*e.w),f.clearRect(0,0,u,o),f.drawImage(l,0,0,u,o),f.beginPath(),f.font=i.fontStyle+" "+Math.floor(e.h)+"px "+i.fontFamily,f.textAlign="center",t?(f.moveTo(e.x+e.w/2,e.y),f.lineTo(e.x+e.w-e.h/2,e.y),f.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2),f.lineTo(e.x+e.w,e.y+e.h-e.h/2),f.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h),f.lineTo(e.x+e.h/2,e.y+e.h),f.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2),f.lineTo(e.x,e.y+e.h/2),f.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)):f.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI),f.fillStyle="rgba("+i.bgColor.r+","+i.bgColor.g+","+i.bgColor.b+","+e.o+")",f.fill(),f.closePath(),f.beginPath(),f.stroke(),f.fillStyle="rgba("+i.textColor.r+","+i.textColor.g+","+i.textColor.b+","+e.o+")",e.n>99?f.fillText("∞",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)):f.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),f.closePath()},E.rectangle=function(e){e=S(e);var t=e.n>9&&e.n<100;t&&(e.x=Math.floor(e.x-.4*e.w),e.w=Math.floor(1.4*e.w)),f.clearRect(0,0,u,o),f.drawImage(l,0,0,u,o),f.beginPath(),f.font="bold "+Math.floor(e.h)+"px sans-serif",f.textAlign="center",f.fillStyle="rgba("+i.bgColor.r+","+i.bgColor.g+","+i.bgColor.b+","+e.o+")",f.fillRect(e.x,e.y,e.w,e.h),f.fillStyle="rgba("+i.textColor.r+","+i.textColor.g+","+i.textColor.b+","+e.o+")",e.n>99?f.fillText("∞",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)):f.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),f.closePath()};var x=function(e,t){d=function(){try{if(e>0){if(L.types[""+t]&&(i.animation=t),y.push({type:"badge",options:{n:e}}),y.length>100)throw"Too many badges requests in queue...";w.start()}else w.reset()}catch(n){throw"Error setting badge..."}},c&&d()},T=function(e){d=function(){try{var t=e.width,n=e.height,r=document.createElement("img"),i=n/o>t/u?t/u:n/o;r.setAttribute("src",e.getAttribute("src")),r.height=n/i,r.width=t/i,f.clearRect(0,0,u,o),f.drawImage(r,0,0,u,o),k.setIcon(a)}catch(s){throw"Error setting image..."}},c&&d()},N=function(e){d=function(){try{if("stop"===e)return v=!0,w.reset(),v=!1,void 0;e.addEventListener("play",function(){t(this)},!1)}catch(n){throw"Error setting video..."}},c&&d()},C=function(e){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(e){return e}),m.supported){var n=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,d=function(){try{if("stop"===e)return v=!0,w.reset(),v=!1,void 0;n=document.createElement("video"),n.width=u,n.height=o,navigator.getUserMedia({video:!0,audio:!1},function(e){n.src=URL.createObjectURL(e),n.play(),t(n)},function(){})}catch(r){throw"Error setting webcam..."}},c&&d()}},k={};k.getIcon=function(){var e=!1,t=function(){for(var e=document.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length,n=t-1;n>=0;n--)if(/icon/i.test(e[n].getAttribute("rel")))return e[n];return!1};return i.elementId?(e=document.getElementById(i.elementId),e.setAttribute("href",e.getAttribute("src"))):(e=t(),e===!1&&(e=document.createElement("link"),e.setAttribute("rel","icon"),document.getElementsByTagName("head")[0].appendChild(e))),e.setAttribute("type","image/png"),e},k.setIcon=function(e){var t=e.toDataURL("image/png");if(i.elementId)document.getElementById(i.elementId).setAttribute("src",t);else if(m.ff||m.opera){var n=s;s=document.createElement("link"),m.opera&&s.setAttribute("rel","icon"),s.setAttribute("rel","icon"),s.setAttribute("type","image/png"),document.getElementsByTagName("head")[0].appendChild(s),s.setAttribute("href",t),n.parentNode&&n.parentNode.removeChild(n)}else s.setAttribute("href",t)};var L={};return L.duration=40,L.types={},L.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],L.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],L.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],L.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],L.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],L.run=function(e,t,n,s){var o=L.types[i.animation];return s=n===!0?"undefined"!=typeof s?s:o.length-1:"undefined"!=typeof s?s:0,t=t?t:function(){},s<o.length&&s>=0?(E[i.type](r(e,o[s])),setTimeout(function(){n?s-=1:s+=1,L.run(e,t,n,s)},L.duration),k.setIcon(a),void 0):(t(),void 0)},b(),{badge:x,video:N,image:T,webcam:C,reset:w.reset}};"undefined"!=typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:this.Favico=e}();var mejs=mejs||{};mejs.version="2.13.2";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]};mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>';return t.firstChild.href},getScriptPath:function(e){var t=0,n,r="",i="",s,o,u,a,f,l=document.getElementsByTagName("script"),c=l.length,h=e.length;for(;t<c;t++){u=l[t].src;s=u.lastIndexOf("/");if(s>-1){f=u.substring(s+1);a=u.substring(0,s+1)}else{f=u;a=""}for(n=0;n<h;n++){i=e[n];o=f.indexOf(i);if(o>-1){r=a;break}}if(r!==""){break}}return r},secondsToTimeCode:function(e,t,n,r){if(typeof n=="undefined"){n=false}else if(typeof r=="undefined"){r=25}var i=Math.floor(e/3600)%24,s=Math.floor(e/60)%60,o=Math.floor(e%60),u=Math.floor((e%1*r).toFixed(3)),a=(t||i>0?(i<10?"0"+i:i)+":":"")+(s<10?"0"+s:s)+":"+(o<10?"0"+o:o)+(n?":"+(u<10?"0"+u:u):"");return a},timeCodeToSeconds:function(e,t,n,r){if(typeof n=="undefined"){n=false}else if(typeof r=="undefined"){r=25}var i=e.split(":"),s=parseInt(i[0],10),o=parseInt(i[1],10),u=parseInt(i[2],10),a=0,f=0;if(n){a=parseInt(i[3])/r}f=s*3600+o*60+u+a;return f},convertSMPTEtoSeconds:function(e){if(typeof e!="string")return false;e=e.replace(",",".");var t=0,n=e.indexOf(".")!=-1?e.split(".")[1].length:0,r=1;e=e.split(":").reverse();for(var i=0;i<e.length;i++){r=1;if(i>0){r=Math.pow(60,i)}t+=Number(e[i])*r}return Number(t.toFixed(n))},removeSwf:function(e){var t=document.getElementById(e);if(t&&/object|embed/i.test(t.nodeName)){if(mejs.MediaFeatures.isIE){t.style.display="none";(function(){if(t.readyState==4){mejs.Utility.removeObjectInIE(e)}else{setTimeout(arguments.callee,10)}})()}else{t.parentNode.removeChild(t)}}},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var n in t){if(typeof t[n]=="function"){t[n]=null}}t.parentNode.removeChild(t)}}};mejs.PluginDetector={hasPluginVersion:function(e,t){var n=this.plugins[e];t[1]=t[1]||0;t[2]=t[2]||0;return n[0]>t[0]||n[0]==t[0]&&n[1]>t[1]||n[0]==t[0]&&n[1]==t[1]&&n[2]>=t[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,n,r,i){this.plugins[e]=this.detectPlugin(t,n,r,i)},detectPlugin:function(e,t,n,r){var i=[0,0,0],s,o,u;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[e]=="object"){s=this.nav.plugins[e].description;if(s&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[t]&&!this.nav.mimeTypes[t].enabledPlugin)){i=s.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(o=0;o<i.length;o++){i[o]=parseInt(i[o].match(/\d+/),10)}}}else if(typeof window.ActiveXObject!="undefined"){try{u=new ActiveXObject(n);if(u){i=r(u)}}catch(a){}}return i}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],n=e.GetVariable("$version");if(n){n=n.split(" ")[1].split(",");t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]}return t});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],n=function(e,t,n,r){while(e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3])){t[n]+=r}t[n]-=r};n(e,t,0,1);n(e,t,1,1);n(e,t,2,1e4);n(e,t,2,1e3);n(e,t,2,100);n(e,t,2,10);n(e,t,2,1);n(e,t,3,1);return t});mejs.MediaFeatures={init:function(){var e=this,t=document,n=mejs.PluginDetector.nav,r=mejs.PluginDetector.ua.toLowerCase(),i,s,o=["source","track","audio","video"];e.isiPad=r.match(/ipad/i)!==null;e.isiPhone=r.match(/iphone/i)!==null;e.isiOS=e.isiPhone||e.isiPad;e.isAndroid=r.match(/android/i)!==null;e.isBustedAndroid=r.match(/android 2\.[12]/)!==null;e.isBustedNativeHTTPS=location.protocol==="https:"&&(r.match(/android [12]\./)!==null||r.match(/macintosh.* version.* safari/)!==null);e.isIE=n.appName.toLowerCase().indexOf("microsoft")!=-1||n.appName.toLowerCase().match(/trident/gi)!==null;e.isChrome=r.match(/chrome/gi)!==null;e.isFirefox=r.match(/firefox/gi)!==null;e.isWebkit=r.match(/webkit/gi)!==null;e.isGecko=r.match(/gecko/gi)!==null&&!e.isWebkit&&!e.isIE;e.isOpera=r.match(/opera/gi)!==null;e.hasTouch="ontouchstart"in window;e.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(i=0;i<o.length;i++){s=document.createElement(o[i])}e.supportsMediaTag=typeof s.canPlayType!=="undefined"||e.isBustedAndroid;try{s.canPlayType("video/mp4")}catch(u){e.supportsMediaTag=false}e.hasSemiNativeFullScreen=typeof s.webkitEnterFullscreen!=="undefined";e.hasNativeFullscreen=typeof s.requestFullscreen!=="undefined";e.hasWebkitNativeFullScreen=typeof s.webkitRequestFullScreen!=="undefined";e.hasMozNativeFullScreen=typeof s.mozRequestFullScreen!=="undefined";e.hasMsNativeFullScreen=typeof s.msRequestFullscreen!=="undefined";e.hasTrueNativeFullScreen=e.hasWebkitNativeFullScreen||e.hasMozNativeFullScreen||e.hasMsNativeFullScreen;e.nativeFullScreenEnabled=e.hasTrueNativeFullScreen;if(e.hasMozNativeFullScreen){e.nativeFullScreenEnabled=document.mozFullScreenEnabled}else if(e.hasMsNativeFullScreen){e.nativeFullScreenEnabled=document.msFullscreenEnabled}if(e.isChrome){e.hasSemiNativeFullScreen=false}if(e.hasTrueNativeFullScreen){e.fullScreenEventName="";if(e.hasWebkitNativeFullScreen){e.fullScreenEventName="webkitfullscreenchange"}else if(e.hasMozNativeFullScreen){e.fullScreenEventName="mozfullscreenchange"}else if(e.hasMsNativeFullScreen){e.fullScreenEventName="MSFullscreenChange"}e.isFullScreen=function(){if(s.mozRequestFullScreen){return t.mozFullScreen}else if(s.webkitRequestFullScreen){return t.webkitIsFullScreen}else if(s.hasMsNativeFullScreen){return t.msFullscreenElement!==null}};e.requestFullScreen=function(t){if(e.hasWebkitNativeFullScreen){t.webkitRequestFullScreen()}else if(e.hasMozNativeFullScreen){t.mozRequestFullScreen()}else if(e.hasMsNativeFullScreen){t.msRequestFullscreen()}};e.cancelFullScreen=function(){if(e.hasWebkitNativeFullScreen){document.webkitCancelFullScreen()}else if(e.hasMozNativeFullScreen){document.mozCancelFullScreen()}else if(e.hasMsNativeFullScreen){document.msExitFullscreen()}}}if(e.hasSemiNativeFullScreen&&r.match(/mac os x 10_5/i)){e.hasNativeFullScreen=false;e.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){var t=this.getElementsByTagName("source");while(t.length>0){this.removeChild(t[0])}if(typeof e=="string"){this.src=e}else{var n,r;for(n=0;n<e.length;n++){r=e[n];if(this.canPlayType(r.type)){this.src=r.src;break}}}},setVideoSize:function(e,t){this.width=e;this.height=t}};mejs.PluginMediaElement=function(e,t,n){this.id=e;this.pluginType=t;this.src=n;this.events={};this.attributes={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.playVideo()}else{this.pluginApi.playMedia()}this.paused=false}},load:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){}else{this.pluginApi.loadMedia()}this.paused=false}},pause:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.pauseVideo()}else{this.pluginApi.pauseMedia()}this.paused=true}},stop:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.stopVideo()}else{this.pluginApi.stopMedia()}this.paused=true}},canPlayType:function(e){var t,n,r,i=mejs.plugins[this.pluginType];for(t=0;t<i.length;t++){r=i[t];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,r.version)){for(n=0;n<r.types.length;n++){if(e==r.types[n]){return"probably"}}}}return""},positionFullscreenButton:function(e,t,n){if(this.pluginApi!=null&&this.pluginApi.positionFullscreenButton){this.pluginApi.positionFullscreenButton(Math.floor(e),Math.floor(t),n)}},hideFullscreenButton:function(){if(this.pluginApi!=null&&this.pluginApi.hideFullscreenButton){this.pluginApi.hideFullscreenButton()}},setSrc:function(e){if(typeof e=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e));this.src=mejs.Utility.absolutizeUrl(e)}else{var t,n;for(t=0;t<e.length;t++){n=e[t];if(this.canPlayType(n.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n.src));this.src=mejs.Utility.absolutizeUrl(e);break}}}},setCurrentTime:function(e){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.seekTo(e)}else{this.pluginApi.setCurrentTime(e)}this.currentTime=e}},setVolume:function(e){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.setVolume(e*100)}else{this.pluginApi.setVolume(e)}this.volume=e}},setMuted:function(e){if(this.pluginApi!=null){if(this.pluginType=="youtube"){if(e){this.pluginApi.mute()}else{this.pluginApi.unMute()}this.muted=e;this.dispatchEvent("volumechange")}else{this.pluginApi.setMuted(e)}this.muted=e}},setVideoSize:function(e,t){if(this.pluginElement.style){this.pluginElement.style.width=e+"px";this.pluginElement.style.height=t+"px"}if(this.pluginApi!=null&&this.pluginApi.setVideoSize){this.pluginApi.setVideoSize(e,t)}},setFullscreen:function(e){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.pluginApi.setFullscreen(e)}},enterFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(true)}},exitFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(false)}},addEventListener:function(e,t,n){this.events[e]=this.events[e]||[];this.events[e].push(t)},removeEventListener:function(e,t){if(!e){this.events={};return true}var n=this.events[e];if(!n)return true;if(!t){this.events[e]=[];return true}for(i=0;i<n.length;i++){if(n[i]===t){this.events[e].splice(i,1);return true}}return false},dispatchEvent:function(e){var t,n,r=this.events[e];if(r){n=Array.prototype.slice.call(arguments,1);for(t=0;t<r.length;t++){r[t].apply(null,n)}}},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){if(this.hasAttribute(e)){return this.attributes[e]}return""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id);mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}};mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,n){this.pluginMediaElements[e]=t;this.htmlMediaElements[e]=n},unregisterPluginElement:function(e){delete this.pluginMediaElements[e];delete this.htmlMediaElements[e]},initPlugin:function(e){var t=this.pluginMediaElements[e],n=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id);t.pluginApi=t.pluginElement.Content.MediaElementJS;break}if(t.pluginApi!=null&&t.success){t.success(t,n)}}},fireEvent:function(e,t,n){var r,i,s,o=this.pluginMediaElements[e];if(!o){return}r={type:t,target:o};for(i in n){o[i]=n[i];r[i]=n[i]}s=n.bufferedTime||0;r.target.buffered=r.buffered={start:function(e){return 0},end:function(e){return s},length:1};o.dispatchEvent(r.type,r)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,httpsBasicAuthSite:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:false,enablePseudoStreaming:false,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}};mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)};mejs.HtmlMediaElementShim={create:function(e,t){var n=mejs.MediaElementDefaults,r=typeof e=="string"?document.getElementById(e):e,i=r.tagName.toLowerCase(),s=i==="audio"||i==="video",o=s?r.getAttribute("src"):r.getAttribute("href"),u=r.getAttribute("poster"),a=r.getAttribute("autoplay"),f=r.getAttribute("preload"),l=r.getAttribute("controls"),c,h;for(h in t){n[h]=t[h]}o=typeof o=="undefined"||o===null||o==""?null:o;u=typeof u=="undefined"||u===null?"":u;f=typeof f=="undefined"||f===null||f==="false"?"none":f;a=!(typeof a=="undefined"||a===null||a==="false");l=!(typeof l=="undefined"||l===null||l==="false");c=this.determinePlayback(r,n,mejs.MediaFeatures.supportsMediaTag,s,o);c.url=c.url!==null?mejs.Utility.absolutizeUrl(c.url):"";if(c.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){r.src=c.url;r.addEventListener("click",function(){r.play()},false)}return this.updateNative(c,n,a,f)}else if(c.method!==""){return this.createPlugin(c,n,u,a,f,l)}else{this.createErrorMessage(c,n,u);return this}},determinePlayback:function(e,t,n,r,i){var s=[],o,u,a,f,l,c,h={method:"",url:"",htmlMediaElement:e,isVideo:e.tagName.toLowerCase()!="audio"},p,d,v,m,g;if(typeof t.type!="undefined"&&t.type!==""){if(typeof t.type=="string"){s.push({type:t.type,url:i})}else{for(o=0;o<t.type.length;o++){s.push({type:t.type[o],url:i})}}}else if(i!==null){c=this.formatType(i,e.getAttribute("type"));s.push({type:c,url:i})}else{for(o=0;o<e.childNodes.length;o++){l=e.childNodes[o];if(l.nodeType==1&&l.tagName.toLowerCase()=="source"){i=l.getAttribute("src");c=this.formatType(i,l.getAttribute("type"));g=l.getAttribute("media");if(!g||!window.matchMedia||window.matchMedia&&window.matchMedia(g).matches){s.push({type:c,url:i})}}}}if(!r&&s.length>0&&s[0].url!==null&&this.getTypeFromFile(s[0].url).indexOf("audio")>-1){h.isVideo=false}if(mejs.MediaFeatures.isBustedAndroid){e.canPlayType=function(e){return e.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""}}if(n&&(t.mode==="auto"||t.mode==="auto_plugin"||t.mode==="native")&&!(mejs.MediaFeatures.isBustedNativeHTTPS&&t.httpsBasicAuthSite===true)){if(!r){m=document.createElement(h.isVideo?"video":"audio");e.parentNode.insertBefore(m,e);e.style.display="none";h.htmlMediaElement=e=m}for(o=0;o<s.length;o++){if(e.canPlayType(s[o].type).replace(/no/,"")!==""||e.canPlayType(s[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){h.method="native";h.url=s[o].url;break}}if(h.method==="native"){if(h.url!==null){e.src=h.url}if(t.mode!=="auto_plugin"){return h}}}if(t.mode==="auto"||t.mode==="auto_plugin"||t.mode==="shim"){for(o=0;o<s.length;o++){c=s[o].type;for(u=0;u<t.plugins.length;u++){p=t.plugins[u];d=mejs.plugins[p];for(a=0;a<d.length;a++){v=d[a];if(v.version==null||mejs.PluginDetector.hasPluginVersion(p,v.version)){for(f=0;f<v.types.length;f++){if(c==v.types[f]){h.method=p;h.url=s[o].url;return h}}}}}}}if(t.mode==="auto_plugin"&&h.method==="native"){return h}if(h.method===""&&s.length>0){h.url=s[0].url}return h},formatType:function(e,t){var n;if(e&&!t){return this.getTypeFromFile(e)}else{if(t&&~t.indexOf(";")){return t.substr(0,t.indexOf(";"))}else{return t}}},getTypeFromFile:function(e){e=e.split("?")[0];var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video":"audio")+"/"+this.getTypeFromExtension(t)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,n){var r=e.htmlMediaElement,i=document.createElement("div");i.className="me-cannotplay";try{i.style.width=r.width+"px";i.style.height=r.height+"px"}catch(s){}if(t.customError){i.innerHTML=t.customError}else{i.innerHTML=n!==""?'<a href="'+e.url+'"><img src="'+n+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>"}r.parentNode.insertBefore(i,r);r.style.display="none";t.error(r)},createPlugin:function(e,t,n,r,i,s){var o=e.htmlMediaElement,u=1,a=1,f="me_"+e.method+"_"+mejs.meIndex++,l=new mejs.PluginMediaElement(f,e.method,e.url),c=document.createElement("div"),h,p,d;l.tagName=o.tagName;for(var v=0;v<o.attributes.length;v++){var m=o.attributes[v];if(m.specified==true){l.setAttribute(m.name,m.value)}}p=o.parentNode;while(p!==null&&p.tagName.toLowerCase()!="body"){if(p.parentNode.tagName.toLowerCase()=="p"){p.parentNode.parentNode.insertBefore(p,p.parentNode);break}p=p.parentNode}if(e.isVideo){u=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:o.getAttribute("width")!==null?o.getAttribute("width"):t.defaultVideoWidth;a=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:o.getAttribute("height")!==null?o.getAttribute("height"):t.defaultVideoHeight;u=mejs.Utility.encodeUrl(u);a=mejs.Utility.encodeUrl(a)}else{if(t.enablePluginDebug){u=320;a=240}}l.success=t.success;mejs.MediaPluginBridge.registerPluginElement(f,l,o);c.className="me-plugin";c.id=f+"_container";if(e.isVideo){o.parentNode.insertBefore(c,o)}else{document.body.insertBefore(c,document.body.childNodes[0])}d=["id="+f,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(r?"true":"false"),"preload="+i,"width="+u,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+a,"pseudostreamstart="+t.pseudoStreamingStartQueryParam];if(e.url!==null){if(e.method=="flash"){d.push("file="+mejs.Utility.encodeUrl(e.url))}else{d.push("file="+e.url)}}if(t.enablePluginDebug){d.push("debug=true")}if(t.enablePluginSmoothing){d.push("smoothing=true")}if(t.enablePseudoStreaming){d.push("pseudostreaming=true")}if(s){d.push("controls=true")}if(t.pluginVars){d=d.concat(t.pluginVars)}switch(e.method){case"silverlight":c.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+f+'" name="'+f+'" width="'+u+'" height="'+a+'" class="mejs-shim">'+'<param name="initParams" value="'+d.join(",")+'" />'+'<param name="windowless" value="true" />'+'<param name="background" value="black" />'+'<param name="minRuntimeVersion" value="3.0.0.0" />'+'<param name="autoUpgrade" value="true" />'+'<param name="source" value="'+t.pluginPath+t.silverlightName+'" />'+"</object>";break;case"flash":if(mejs.MediaFeatures.isIE){h=document.createElement("div");c.appendChild(h);h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" '+'id="'+f+'" width="'+u+'" height="'+a+'" class="mejs-shim">'+'<param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" />'+'<param name="flashvars" value="'+d.join("&")+'" />'+'<param name="quality" value="high" />'+'<param name="bgcolor" value="#000000" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+'<param name="scale" value="default" />'+"</object>"}else{c.innerHTML='<embed id="'+f+'" name="'+f+'" '+'play="true" '+'loop="false" '+'quality="high" '+'bgcolor="#000000" '+'wmode="transparent" '+'allowScriptAccess="always" '+'allowFullScreen="true" '+'type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" '+'src="'+t.pluginPath+t.flashName+'" '+'flashvars="'+d.join("&")+'" '+'width="'+u+'" '+'height="'+a+'" '+'scale="default"'+'class="mejs-shim"></embed>'}break;case"youtube":var g=e.url.substr(e.url.lastIndexOf("=")+1);youtubeSettings={container:c,containerId:c.id,pluginMediaElement:l,pluginId:f,videoId:g,height:a,width:u};if(mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])){mejs.YouTubeApi.createFlash(youtubeSettings)}else{mejs.YouTubeApi.enqueueIframe(youtubeSettings)}break;case"vimeo":l.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1);c.innerHTML='<iframe src="http://player.vimeo.com/video/'+l.vimeoid+'?portrait=0&byline=0&title=0" width="'+u+'" height="'+a+'" frameborder="0" class="mejs-shim"></iframe>';break}o.style.display="none";o.removeAttribute("autoplay");return l},updateNative:function(e,t,n,r){var i=e.htmlMediaElement,s;for(s in mejs.HtmlMediaElement){i[s]=mejs.HtmlMediaElement[s]}t.success(i,i);return i}};mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="//www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(e){if(this.isLoaded){this.createIframe(e)}else{this.loadIframeApi();this.iframeQueue.push(e)}},createIframe:function(e){var t=e.pluginMediaElement,n=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=n;mejs.MediaPluginBridge.initPlugin(e.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(n,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,n,t)}}})},createEvent:function(e,t,n){var r={type:n,target:t};if(e&&e.getDuration){t.currentTime=r.currentTime=e.getCurrentTime();t.duration=r.duration=e.getDuration();r.paused=t.paused;r.ended=t.ended;r.muted=e.isMuted();r.volume=e.getVolume()/100;r.bytesTotal=e.getVideoBytesTotal();r.bufferedBytes=e.getVideoBytesLoaded();var i=r.bufferedBytes/r.bytesTotal*r.duration;r.target.buffered=r.buffered={start:function(e){return 0},end:function(e){return i},length:1}}t.dispatchEvent(r.type,r)},iFrameReady:function(){this.isLoaded=true;this.isIframeLoaded=true;while(this.iframeQueue.length>0){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,n="//www.youtube.com/apiplayer?enablejsapi=1&playerapiid="+e.pluginId+"&version=3&autoplay=0&controls=0&modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){t=document.createElement("div");e.container.appendChild(t);t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" '+'id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim">'+'<param name="movie" value="'+n+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"}else{e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+n+'" '+'width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim">'+'<param name="allowScriptAccess" value="always">'+'<param name="wmode" value="transparent">'+"</object>"}},flashReady:function(e){var t=this.flashPlayers[e],n=document.getElementById(e),r=t.pluginMediaElement;r.pluginApi=r.pluginElement=n;mejs.MediaPluginBridge.initPlugin(e);n.cueVideoById(t.videoId);var i=t.containerId+"_callback";window[i]=function(e){mejs.YouTubeApi.handleStateChange(e,n,r)};n.addEventListener("onStateChange",i);setInterval(function(){mejs.YouTubeApi.createEvent(n,r,"timeupdate")},250)},handleStateChange:function(e,t,n){switch(e){case-1:n.paused=true;n.ended=true;mejs.YouTubeApi.createEvent(t,n,"loadedmetadata");break;case 0:n.paused=false;n.ended=true;mejs.YouTubeApi.createEvent(t,n,"ended");break;case 1:n.paused=false;n.ended=false;mejs.YouTubeApi.createEvent(t,n,"play");mejs.YouTubeApi.createEvent(t,n,"playing");break;case 2:n.paused=true;n.ended=false;mejs.YouTubeApi.createEvent(t,n,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,n,"progress");break;case 5:break}}};window.mejs=mejs;window.MediaElement=mejs.MediaElement;(function(e,t,n){"use strict";var r={locale:{language:"",strings:{}},methods:{}};r.getLanguage=function(){var e=r.locale.language||window.navigator.userLanguage||window.navigator.language;return e.substr(0,2).toLowerCase()};if(typeof mejsL10n!="undefined"){r.locale.language=mejsL10n.language}r.methods.checkPlain=function(e){var t,n,r={"&":"&",'"':"&quot;","<":"&lt;",">":"&gt;"};e=String(e);for(t in r){if(r.hasOwnProperty(t)){n=new RegExp(t,"g");e=e.replace(n,r[t])}}return e};r.methods.t=function(e,t){if(r.locale.strings&&r.locale.strings[t.context]&&r.locale.strings[t.context][e]){e=r.locale.strings[t.context][e]}return r.methods.checkPlain(e)};r.t=function(e,t){if(typeof e==="string"&&e.length>0){var n=r.getLanguage();t=t||{context:n};return r.methods.t(e,t)}else{throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}}};t.i18n=r})(document,mejs);(function(e,t){"use strict";if(typeof mejsL10n!="undefined"){e[mejsL10n.language]=mejsL10n.strings}})(mejs.i18n.locale.strings);(function(e,t){"use strict";if(typeof e.de==="undefined"){e.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"SchlieÃŸen"}}})(mejs.i18n.locale.strings);(function(e,t){"use strict";if(typeof e.zh==="undefined"){e.zh={Fullscreen:"å…¨èž¢å¹•","Go Fullscreen":"å…¨å±æ¨¡å¼","Turn off Fullscreen":"é€€å‡ºå…¨å±æ¨¡å¼",Close:"é—œé–‰"}}})(mejs.i18n.locale.strings);if(typeof jQuery!="undefined"){mejs.$=jQuery}else if(typeof ender!="undefined"){mejs.$=ender}(function(e){mejs.MepDefaults={poster:"",showPosterWhenEnded:false,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return e.duration*.05},defaultSeekForwardInterval:function(e){return e.duration*.05},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:false,autoRewind:true,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,hideVideoControlsOnLoad:false,clickToPlayPause:true,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(e,t){if(t.paused||t.ended){e.play()}else{e.pause()}}},{keys:[38],action:function(e,t){var n=Math.min(t.volume+.1,1);t.setVolume(n)}},{keys:[40],action:function(e,t){var n=Math.max(t.volume-.1,0);t.setVolume(n)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){if(e.isVideo){e.showControls();e.startControlsTimer()}var n=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(n)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){if(e.isVideo){e.showControls();e.startControlsTimer()}var n=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(n)}}},{keys:[70],action:function(e,t){if(typeof e.enterFullScreen!="undefined"){if(e.isFullScreen){e.exitFullScreen()}else{e.enterFullScreen()}}}}]};mejs.mepIndex=0;mejs.players={};mejs.MediaElementPlayer=function(t,n){if(!(this instanceof mejs.MediaElementPlayer)){return new mejs.MediaElementPlayer(t,n)}var r=this;r.$media=r.$node=e(t);r.node=r.media=r.$media[0];if(typeof r.node.player!="undefined"){return r.node.player}else{r.node.player=r}if(typeof n=="undefined"){n=r.$node.data("mejsoptions")}r.options=e.extend({},mejs.MepDefaults,n);r.id="mep_"+mejs.mepIndex++;mejs.players[r.id]=r;r.init();return r};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var t=this,n=mejs.MediaFeatures,r=e.extend(true,{},t.options,{success:function(e,n){t.meReady(e,n)},error:function(e){t.handleError(e)}}),i=t.media.tagName.toLowerCase();t.isDynamic=i!=="audio"&&i!=="video";if(t.isDynamic){t.isVideo=t.options.isVideo}else{t.isVideo=i!=="audio"&&t.options.isVideo}if(n.isiPad&&t.options.iPadUseNativeControls||n.isiPhone&&t.options.iPhoneUseNativeControls){t.$media.attr("controls","controls");if(n.isiPad&&t.media.getAttribute("autoplay")!==null){t.play()}}else if(n.isAndroid&&t.options.AndroidUseNativeControls){}else{t.$media.removeAttr("controls");t.container=e('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'">'+'<div class="mejs-inner">'+'<div class="mejs-mediaelement"></div>'+'<div class="mejs-layers"></div>'+'<div class="mejs-controls"></div>'+'<div class="mejs-clear"></div>'+"</div>"+"</div>").addClass(t.$media[0].className).insertBefore(t.$media);t.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio "));if(n.isiOS){var s=t.$media.clone();t.container.find(".mejs-mediaelement").append(s);t.$media.remove();t.$node=t.$media=s;t.node=t.media=s[0]}else{t.container.find(".mejs-mediaelement").append(t.$media)}t.controls=t.container.find(".mejs-controls");t.layers=t.container.find(".mejs-layers");var o=t.isVideo?"video":"audio",u=o.substring(0,1).toUpperCase()+o.substring(1);if(t.options[o+"Width"]>0||t.options[o+"Width"].toString().indexOf("%")>-1){t.width=t.options[o+"Width"]}else if(t.media.style.width!==""&&t.media.style.width!==null){t.width=t.media.style.width}else if(t.media.getAttribute("width")!==null){t.width=t.$media.attr("width")}else{t.width=t.options["default"+u+"Width"]}if(t.options[o+"Height"]>0||t.options[o+"Height"].toString().indexOf("%")>-1){t.height=t.options[o+"Height"]}else if(t.media.style.height!==""&&t.media.style.height!==null){t.height=t.media.style.height}else if(t.$media[0].getAttribute("height")!==null){t.height=t.$media.attr("height")}else{t.height=t.options["default"+u+"Height"]}t.setPlayerSize(t.width,t.height);r.pluginWidth=t.width;r.pluginHeight=t.height}mejs.MediaElement(t.$media[0],r);if(typeof t.container!="undefined"&&t.controlsAreVisible){t.container.trigger("controlsshown")}},showControls:function(e){var t=this;e=typeof e=="undefined"||e;if(t.controlsAreVisible)return;if(e){t.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true;t.container.trigger("controlsshown")});t.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true})}else{t.controls.css("visibility","visible").css("display","block");t.container.find(".mejs-control").css("visibility","visible").css("display","block");t.controlsAreVisible=true;t.container.trigger("controlsshown")}t.setControlsSize()},hideControls:function(t){var n=this;t=typeof t=="undefined"||t;if(!n.controlsAreVisible||n.options.alwaysShowControls)return;if(t){n.controls.stop(true,true).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block");n.controlsAreVisible=false;n.container.trigger("controlshidden")});n.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})}else{n.controls.css("visibility","hidden").css("display","block");n.container.find(".mejs-control").css("visibility","hidden").css("display","block");n.controlsAreVisible=false;n.container.trigger("controlshidden")}},controlsTimer:null,startControlsTimer:function(e){var t=this;e=typeof e!="undefined"?e:1500;t.killControlsTimer("start");t.controlsTimer=setTimeout(function(){t.hideControls();t.killControlsTimer("hide")},e)},killControlsTimer:function(e){var t=this;if(t.controlsTimer!==null){clearTimeout(t.controlsTimer);delete t.controlsTimer;t.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var e=this;e.killControlsTimer();e.hideControls(false);this.controlsEnabled=false},enableControls:function(){var e=this;e.showControls(false);e.controlsEnabled=true},meReady:function(e,t){var n=this,r=mejs.MediaFeatures,i=t.getAttribute("autoplay"),s=!(typeof i=="undefined"||i===null||i==="false"),o,u;if(n.created){return}else{n.created=true}n.media=e;n.domNode=t;if(!(r.isAndroid&&n.options.AndroidUseNativeControls)&&!(r.isiPad&&n.options.iPadUseNativeControls)&&!(r.isiPhone&&n.options.iPhoneUseNativeControls)){n.buildposter(n,n.controls,n.layers,n.media);n.buildkeyboard(n,n.controls,n.layers,n.media);n.buildoverlays(n,n.controls,n.layers,n.media);n.findTracks();for(o in n.options.features){u=n.options.features[o];if(n["build"+u]){try{n["build"+u](n,n.controls,n.layers,n.media)}catch(a){}}}n.container.trigger("controlsready");n.setPlayerSize(n.width,n.height);n.setControlsSize();if(n.isVideo){if(mejs.MediaFeatures.hasTouch){n.$media.bind("touchstart",function(){if(n.controlsAreVisible){n.hideControls(false)}else{if(n.controlsEnabled){n.showControls(false)}}})}else{mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){if(n.options.clickToPlayPause){if(n.media.paused){n.play()}else{n.pause()}}};n.media.addEventListener("click",n.clickToPlayPauseCallback,false);n.container.bind("mouseenter mouseover",function(){if(n.controlsEnabled){if(!n.options.alwaysShowControls){n.killControlsTimer("enter");n.showControls();n.startControlsTimer(2500)}}}).bind("mousemove",function(){if(n.controlsEnabled){if(!n.controlsAreVisible){n.showControls()}if(!n.options.alwaysShowControls){n.startControlsTimer(2500)}}}).bind("mouseleave",function(){if(n.controlsEnabled){if(!n.media.paused&&!n.options.alwaysShowControls){n.startControlsTimer(1e3)}}})}if(n.options.hideVideoControlsOnLoad){n.hideControls(false)}if(s&&!n.options.alwaysShowControls){n.hideControls()}if(n.options.enableAutosize){n.media.addEventListener("loadedmetadata",function(e){if(n.options.videoHeight<=0&&n.domNode.getAttribute("height")===null&&!isNaN(e.target.videoHeight)){n.setPlayerSize(e.target.videoWidth,e.target.videoHeight);n.setControlsSize();n.media.setVideoSize(e.target.videoWidth,e.target.videoHeight)}},false)}}e.addEventListener("play",function(){var e;for(e in mejs.players){var t=mejs.players[e];if(t.id!=n.id&&n.options.pauseOtherPlayers&&!t.paused&&!t.ended){t.pause()}t.hasFocus=false}n.hasFocus=true},false);n.media.addEventListener("ended",function(e){if(n.options.autoRewind){try{n.media.setCurrentTime(0)}catch(t){}}n.media.pause();if(n.setProgressRail){n.setProgressRail()}if(n.setCurrentRail){n.setCurrentRail()}if(n.options.loop){n.play()}else if(!n.options.alwaysShowControls&&n.controlsEnabled){n.showControls()}},false);n.media.addEventListener("loadedmetadata",function(e){if(n.updateDuration){n.updateDuration()}if(n.updateCurrent){n.updateCurrent()}if(!n.isFullScreen){n.setPlayerSize(n.width,n.height);n.setControlsSize()}},false);setTimeout(function(){n.setPlayerSize(n.width,n.height);n.setControlsSize()},50);n.globalBind("resize",function(){if(!(n.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen)){n.setPlayerSize(n.width,n.height)}n.setControlsSize()});if(n.media.pluginType=="youtube"){n.container.find(".mejs-overlay-play").hide()}}if(s&&e.pluginType=="native"){n.play()}if(n.options.success){if(typeof n.options.success=="string"){window[n.options.success](n.media,n.domNode,n)}else{n.options.success(n.media,n.domNode,n)}}},handleError:function(e){var t=this;t.controls.hide();if(t.options.error){t.options.error(e)}},setPlayerSize:function(t,n){var r=this;if(typeof t!="undefined"){r.width=t}if(typeof n!="undefined"){r.height=n}if(r.height.toString().indexOf("%")>0||r.$node.css("max-width")==="100%"||parseInt(r.$node.css("max-width").replace(/px/,""),10)/r.$node.offsetParent().width()===1||r.$node[0].currentStyle&&r.$node[0].currentStyle.maxWidth==="100%"){var i=r.isVideo?r.media.videoWidth&&r.media.videoWidth>0?r.media.videoWidth:r.options.defaultVideoWidth:r.options.defaultAudioWidth,s=r.isVideo?r.media.videoHeight&&r.media.videoHeight>0?r.media.videoHeight:r.options.defaultVideoHeight:r.options.defaultAudioHeight,o=r.container.parent().closest(":visible").width(),u=r.isVideo||!r.options.autosizeProgress?parseInt(o*s/i,10):s;if(r.container.parent()[0].tagName.toLowerCase()==="body"){o=e(window).width();u=e(window).height()}if(u!=0&&o!=0){r.container.width(o).height(u);r.$media.add(r.container.find(".mejs-shim")).width("100%").height("100%");if(r.isVideo){if(r.media.setVideoSize){r.media.setVideoSize(o,u)}}r.layers.children(".mejs-layer").width("100%").height("100%")}}else{r.container.width(r.width).height(r.height);r.layers.children(".mejs-layer").width(r.width).height(r.height)}var a=r.layers.find(".mejs-overlay-play"),f=a.find(".mejs-overlay-button");a.height(r.container.height()-r.controls.height());f.css("margin-top","-"+(f.height()/2-r.controls.height()/2).toString()+"px")},setControlsSize:function(){var t=this,n=0,r=0,i=t.controls.find(".mejs-time-rail"),s=t.controls.find(".mejs-time-total"),o=t.controls.find(".mejs-time-current"),u=t.controls.find(".mejs-time-loaded"),a=i.siblings();if(t.options&&!t.options.autosizeProgress){r=parseInt(i.css("width"))}if(r===0||!r){a.each(function(){var t=e(this);if(t.css("position")!="absolute"&&t.is(":visible")){n+=e(this).outerWidth(true)}});r=t.controls.width()-n-(i.outerWidth(true)-i.width())}i.width(r);s.width(r-(s.outerWidth(true)-s.width()));if(t.setProgressRail)t.setProgressRail();if(t.setCurrentRail)t.setCurrentRail()},buildposter:function(t,n,r,i){var s=this,o=e('<div class="mejs-poster mejs-layer">'+"</div>").appendTo(r),u=t.$media.attr("poster");if(t.options.poster!==""){u=t.options.poster}if(u!==""&&u!=null){s.setPoster(u)}else{o.hide()}i.addEventListener("play",function(){o.hide()},false);if(t.options.showPosterWhenEnded&&t.options.autoRewind){i.addEventListener("ended",function(){o.show()},false)}},setPoster:function(t){var n=this,r=n.container.find(".mejs-poster"),i=r.find("img");if(i.length==0){i=e('<img width="100%" height="100%" />').appendTo(r)}i.attr("src",t);r.css({"background-image":"url("+t+")"})},buildoverlays:function(t,n,r,i){var s=this;if(!t.isVideo)return;var o=e('<div class="mejs-overlay mejs-layer">'+'<div class="mejs-overlay-loading"><span></span></div>'+"</div>").hide().appendTo(r),u=e('<div class="mejs-overlay mejs-layer">'+'<div class="mejs-overlay-error"></div>'+"</div>").hide().appendTo(r),a=e('<div class="mejs-overlay mejs-layer mejs-overlay-play">'+'<div class="mejs-overlay-button"></div>'+"</div>").appendTo(r).bind("click touchstart",function(){if(s.options.clickToPlayPause){if(i.paused){s.play()}}});i.addEventListener("play",function(){a.hide();o.hide();n.find(".mejs-time-buffering").hide();u.hide()},false);i.addEventListener("playing",function(){a.hide();o.hide();n.find(".mejs-time-buffering").hide();u.hide()},false);i.addEventListener("seeking",function(){o.show();n.find(".mejs-time-buffering").show()},false);i.addEventListener("seeked",function(){o.hide();n.find(".mejs-time-buffering").hide()},false);i.addEventListener("pause",function(){if(!mejs.MediaFeatures.isiPhone){a.show()}},false);i.addEventListener("waiting",function(){o.show();n.find(".mejs-time-buffering").show()},false);i.addEventListener("loadeddata",function(){o.show();n.find(".mejs-time-buffering").show()},false);i.addEventListener("canplay",function(){o.hide();n.find(".mejs-time-buffering").hide()},false);i.addEventListener("error",function(){o.hide();n.find(".mejs-time-buffering").hide();u.show();u.find("mejs-overlay-error").html("Error loading this resource")},false)},buildkeyboard:function(t,n,r,i){var s=this;s.globalBind("keydown",function(e){if(t.hasFocus&&t.options.enableKeyboard){for(var n=0,r=t.options.keyActions.length;n<r;n++){var s=t.options.keyActions[n];for(var o=0,u=s.keys.length;o<u;o++){if(e.keyCode==s.keys[o]){e.preventDefault();s.action(t,i,e.keyCode);return false}}}}return true});s.globalBind("click",function(n){if(e(n.target).closest(".mejs-container").length==0){t.hasFocus=false}})},findTracks:function(){var t=this,n=t.$media.find("track");t.tracks=[];n.each(function(n,r){r=e(r);t.tracks.push({srclang:r.attr("srclang")?r.attr("srclang").toLowerCase():"",src:r.attr("src"),kind:r.attr("kind"),label:r.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(e){this.container[0].className="mejs-container "+e;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.load();this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){if(!this.isLoaded){this.media.load()}this.isLoaded=true},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e=this,t,n;for(t in e.options.features){n=e.options.features[t];if(e["clean"+n]){try{e["clean"+n](e)}catch(r){}}}if(!e.isDynamic){e.$media.prop("controls",true);e.$node.clone().show().insertBefore(e.container);e.$node.remove()}else{e.$node.insertBefore(e.container)}if(e.media.pluginType!=="native"){e.media.remove()}delete mejs.players[e.id];e.container.remove();e.globalUnbind();delete e.node.player}};(function(){function n(n,r){var i={d:[],w:[]};e.each((n||"").split(" "),function(e,n){var s=n+"."+r;if(s.indexOf(".")===0){i.d.push(s);i.w.push(s)}else{i[t.test(n)?"w":"d"].push(s)}});i.d=i.d.join(" ");i.w=i.w.join(" ");return i}var t=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(t,r,i){var s=this;t=n(t,s.id);if(t.d)e(document).bind(t.d,r,i);if(t.w)e(window).bind(t.w,r,i)};mejs.MediaElementPlayer.prototype.globalUnbind=function(t,r){var i=this;t=n(t,i.id);if(t.d)e(document).unbind(t.d,r);if(t.w)e(window).unbind(t.w,r)}})();if(typeof jQuery!="undefined"){jQuery.fn.mediaelementplayer=function(e){if(e===false){this.each(function(){var e=jQuery(this).data("mediaelementplayer");if(e){e.remove()}jQuery(this).removeData("mediaelementplayer")})}else{this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,e))})}return this}}e(document).ready(function(){e(".mejs-player").mediaelementplayer()});window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")});e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,n,r,i){var s=this,o=e('<div class="mejs-button mejs-playpause-button mejs-play" >'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.playpauseText+'" aria-label="'+s.options.playpauseText+'"></button>'+"</div>").appendTo(n).click(function(e){e.preventDefault();if(i.paused){i.play()}else{i.pause()}return false});i.addEventListener("play",function(){o.removeClass("mejs-play").addClass("mejs-pause")},false);i.addEventListener("playing",function(){o.removeClass("mejs-play").addClass("mejs-pause")},false);i.addEventListener("pause",function(){o.removeClass("mejs-pause").addClass("mejs-play")},false);i.addEventListener("paused",function(){o.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"});e.extend(MediaElementPlayer.prototype,{buildstop:function(t,n,r,i){var s=this,o=e('<div class="mejs-button mejs-stop-button mejs-stop">'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.stopText+'" aria-label="'+s.options.stopText+'"></button>'+"</div>").appendTo(n).click(function(){if(!i.paused){i.pause()}if(i.currentTime>0){i.setCurrentTime(0);i.pause();n.find(".mejs-time-current").width("0px");n.find(".mejs-time-handle").css("left","0px");n.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));n.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));r.find(".mejs-poster").show()}})}})})(mejs.$);(function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,n,r,i){e('<div class="mejs-time-rail">'+'<span class="mejs-time-total">'+'<span class="mejs-time-buffering"></span>'+'<span class="mejs-time-loaded"></span>'+'<span class="mejs-time-current"></span>'+'<span class="mejs-time-handle"></span>'+'<span class="mejs-time-float">'+'<span class="mejs-time-float-current">00:00</span>'+'<span class="mejs-time-float-corner"></span>'+"</span>"+"</span>"+"</div>").appendTo(n);n.find(".mejs-time-buffering").hide();var s=this,o=n.find(".mejs-time-total"),u=n.find(".mejs-time-loaded"),a=n.find(".mejs-time-current"),f=n.find(".mejs-time-handle"),l=n.find(".mejs-time-float"),c=n.find(".mejs-time-float-current"),h=function(e){var t=e.pageX,n=o.offset(),r=o.outerWidth(true),s=0,u=0,a=0;if(i.duration){if(t<n.left){t=n.left}else if(t>r+n.left){t=r+n.left}a=t-n.left;s=a/r;u=s<=.02?0:s*i.duration;if(p&&u!==i.currentTime){i.setCurrentTime(u)}if(!mejs.MediaFeatures.hasTouch){l.css("left",a);c.html(mejs.Utility.secondsToTimeCode(u));l.show()}}},p=false,d=false;o.bind("mousedown",function(e){if(e.which===1){p=true;h(e);s.globalBind("mousemove.dur",function(e){h(e)});s.globalBind("mouseup.dur",function(e){p=false;l.hide();s.globalUnbind(".dur")});return false}}).bind("mouseenter",function(e){d=true;s.globalBind("mousemove.dur",function(e){h(e)});if(!mejs.MediaFeatures.hasTouch){l.show()}}).bind("mouseleave",function(e){d=false;if(!p){s.globalUnbind(".dur");l.hide()}});i.addEventListener("progress",function(e){t.setProgressRail(e);t.setCurrentRail(e)},false);i.addEventListener("timeupdate",function(e){t.setProgressRail(e);t.setCurrentRail(e)},false);s.loaded=u;s.total=o;s.current=a;s.handle=f},setProgressRail:function(e){var t=this,n=e!=undefined?e.target:t.media,r=null;if(n&&n.buffered&&n.buffered.length>0&&n.buffered.end&&n.duration){r=n.buffered.end(0)/n.duration}else if(n&&n.bytesTotal!=undefined&&n.bytesTotal>0&&n.bufferedBytes!=undefined){r=n.bufferedBytes/n.bytesTotal}else if(e&&e.lengthComputable&&e.total!=0){r=e.loaded/e.total}if(r!==null){r=Math.min(1,Math.max(0,r));if(t.loaded&&t.total){t.loaded.width(t.total.width()*r)}}},setCurrentRail:function(){var e=this;if(e.media.currentTime!=undefined&&e.media.duration){if(e.total&&e.handle){var t=Math.round(e.total.width()*e.media.currentTime/e.media.duration),n=t-Math.round(e.handle.outerWidth(true)/2);e.current.width(t);e.handle.css("left",n)}}}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"});e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,n,r,i){var s=this;e('<div class="mejs-time">'+'<span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span>"+"</div>").appendTo(n);s.currenttime=s.controls.find(".mejs-currenttime");i.addEventListener("timeupdate",function(){t.updateCurrent()},false)},buildduration:function(t,n,r,i){var s=this;if(n.children().last().find(".mejs-currenttime").length>0){e(s.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time"))}else{n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");e('<div class="mejs-time mejs-duration-container">'+'<span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>"+"</div>").appendTo(n)}s.durationD=s.controls.find(".mejs-duration");i.addEventListener("timeupdate",function(){t.updateDuration()},false)},updateCurrent:function(){var e=this;if(e.currenttime){e.currenttime.html(mejs.Utility.secondsToTimeCode(e.media.currentTime,e.options.alwaysShowHours||e.media.duration>3600,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}},updateDuration:function(){var e=this;e.container.toggleClass("mejs-long-video",e.media.duration>3600);if(e.durationD&&(e.options.duration>0||e.media.duration)){e.durationD.html(mejs.Utility.secondsToTimeCode(e.options.duration>0?e.options.duration:e.media.duration,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,n,r,i){if(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)return;var s=this,o=s.isVideo?s.options.videoVolume:s.options.audioVolume,u=o=="horizontal"?e('<div class="mejs-button mejs-volume-button mejs-mute">'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button>'+"</div>"+'<div class="mejs-horizontal-volume-slider">'+'<div class="mejs-horizontal-volume-total"></div>'+'<div class="mejs-horizontal-volume-current"></div>'+'<div class="mejs-horizontal-volume-handle"></div>'+"</div>").appendTo(n):e('<div class="mejs-button mejs-volume-button mejs-mute">'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button>'+'<div class="mejs-volume-slider">'+'<div class="mejs-volume-total"></div>'+'<div class="mejs-volume-current"></div>'+'<div class="mejs-volume-handle"></div>'+"</div>"+"</div>").appendTo(n),a=s.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),f=s.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),l=s.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),c=s.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(!a.is(":visible")&&typeof t=="undefined"){a.show();h(e,true);a.hide();return}e=Math.max(0,e);e=Math.min(e,1);if(e==0){u.removeClass("mejs-mute").addClass("mejs-unmute")}else{u.removeClass("mejs-unmute").addClass("mejs-mute")}if(o=="vertical"){var n=f.height(),r=f.position(),i=n-n*e;c.css("top",Math.round(r.top+i-c.height()/2));l.height(n-i);l.css("top",r.top+i)}else{var s=f.width(),r=f.position(),p=s*e;c.css("left",Math.round(r.left+p-c.width()/2));l.width(Math.round(p))}},p=function(e){var t=null,n=f.offset();if(o=="vertical"){var r=f.height(),s=parseInt(f.css("top").replace(/px/,""),10),u=e.pageY-n.top;t=(r-u)/r;if(n.top==0||n.left==0)return}else{var a=f.width(),l=e.pageX-n.left;t=l/a}t=Math.max(0,t);t=Math.min(t,1);h(t);if(t==0){i.setMuted(true)}else{i.setMuted(false)}i.setVolume(t)},d=false,v=false;u.hover(function(){a.show();v=true},function(){v=false;if(!d&&o=="vertical"){a.hide()}});a.bind("mouseover",function(){v=true}).bind("mousedown",function(e){p(e);s.globalBind("mousemove.vol",function(e){p(e)});s.globalBind("mouseup.vol",function(){d=false;s.globalUnbind(".vol");if(!v&&o=="vertical"){a.hide()}});d=true;return false});u.find("button").click(function(){i.setMuted(!i.muted)});i.addEventListener("volumechange",function(e){if(!d){if(i.muted){h(0);u.removeClass("mejs-mute").addClass("mejs-unmute")}else{h(i.volume);u.removeClass("mejs-unmute").addClass("mejs-mute")}}},false);if(s.container.is(":visible")){h(t.options.startVolume);if(t.options.startVolume===0){i.setMuted(true)}if(i.pluginType==="native"){i.setVolume(t.options.startVolume)}}}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")});e.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,isInIframe:false,buildfullscreen:function(t,n,r,i){if(!t.isVideo)return;t.isInIframe=window.location!=window.parent.location;if(mejs.MediaFeatures.hasTrueNativeFullScreen){var s=function(e){if(t.isFullScreen){if(mejs.MediaFeatures.isFullScreen()){t.isNativeFullScreen=true;t.setControlsSize()}else{t.isNativeFullScreen=false;t.exitFullScreen()}}};if(mejs.MediaFeatures.hasMozNativeFullScreen){t.globalBind(mejs.MediaFeatures.fullScreenEventName,s)}else{t.container.bind(mejs.MediaFeatures.fullScreenEventName,s)}}var o=this,u=0,a=0,f=t.container,l=e('<div class="mejs-button mejs-fullscreen-button">'+'<button type="button" aria-controls="'+o.id+'" title="'+o.options.fullscreenText+'" aria-label="'+o.options.fullscreenText+'"></button>'+"</div>").appendTo(n);if(o.media.pluginType==="native"||!o.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox){l.click(function(){var e=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen;if(e){t.exitFullScreen()}else{t.enterFullScreen()}})}else{var c=null,h=function(){var e=document.createElement("x"),t=document.documentElement,n=window.getComputedStyle,r;if(!("pointerEvents"in e.style)){return false}e.style.pointerEvents="auto";e.style.pointerEvents="x";t.appendChild(e);r=n&&n(e,"").pointerEvents==="auto";t.removeChild(e);return!!r}();if(h&&!mejs.MediaFeatures.isOpera){var p=false,d=function(){if(p){for(var e in v){v[e].hide()}l.css("pointer-events","");o.controls.css("pointer-events","");o.media.removeEventListener("click",o.clickToPlayPauseCallback);p=false}},v={},m=["top","left","right","bottom"],g,y,b=function(){var e=l.offset().left-o.container.offset().left,t=l.offset().top-o.container.offset().top,n=l.outerWidth(true),r=l.outerHeight(true),i=o.container.width(),s=o.container.height();for(g in v){v[g].css({position:"absolute",top:0,left:0})}v["top"].width(i).height(t);v["left"].width(e).height(r).css({top:t});v["right"].width(i-e-n).height(r).css({top:t,left:e+n});v["bottom"].width(i).height(s-r-t).css({top:t+r})};o.globalBind("resize",function(){b()});for(g=0,y=m.length;g<y;g++){v[m[g]]=e('<div class="mejs-fullscreen-hover" />').appendTo(o.container).mouseover(d).hide()}l.on("mouseover",function(){if(!o.isFullScreen){var e=l.offset(),n=t.container.offset();i.positionFullscreenButton(e.left-n.left,e.top-n.top,false);l.css("pointer-events","none");o.controls.css("pointer-events","none");o.media.addEventListener("click",o.clickToPlayPauseCallback);for(g in v){v[g].show()}b();p=true}});i.addEventListener("fullscreenchange",function(e){o.isFullScreen=!o.isFullScreen;if(o.isFullScreen){o.media.removeEventListener("click",o.clickToPlayPauseCallback)}else{o.media.addEventListener("click",o.clickToPlayPauseCallback)}d()});o.globalBind("mousemove",function(e){if(p){var t=l.offset();if(e.pageY<t.top||e.pageY>t.top+l.outerHeight(true)||e.pageX<t.left||e.pageX>t.left+l.outerWidth(true)){l.css("pointer-events","");o.controls.css("pointer-events","");p=false}}})}else{l.on("mouseover",function(){if(c!==null){clearTimeout(c);delete c}var e=l.offset(),n=t.container.offset();i.positionFullscreenButton(e.left-n.left,e.top-n.top,true)}).on("mouseout",function(){if(c!==null){clearTimeout(c);delete c}c=setTimeout(function(){i.hideFullscreenButton()},1500)})}}t.fullscreenBtn=l;o.globalBind("keydown",function(e){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||o.isFullScreen)&&e.keyCode==27){t.exitFullScreen()}})},cleanfullscreen:function(e){e.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if(t.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||t.options.usePluginFullScreen)){return}e(document.documentElement).addClass("mejs-fullscreen");normalHeight=t.container.height();normalWidth=t.container.width();if(t.media.pluginType==="native"){if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(t.container[0]);if(t.isInIframe){setTimeout(function r(){if(t.isNativeFullScreen){if(e(window).width()!==screen.width){t.exitFullScreen()}else{setTimeout(r,500)}}},500)}}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){t.media.webkitEnterFullscreen();return}}if(t.isInIframe){var n=t.options.newWindowCallback(this);if(n!==""){if(!mejs.MediaFeatures.hasTrueNativeFullScreen){t.pause();window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}else{setTimeout(function(){if(!t.isNativeFullScreen){t.pause();window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250)}}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%");t.containerSizeTimeout=setTimeout(function(){t.container.css({width:"100%",height:"100%"});t.setControlsSize()},500);if(t.media.pluginType==="native"){t.$media.width("100%").height("100%")}else{t.container.find(".mejs-shim").width("100%").height("100%");t.media.setVideoSize(e(window).width(),e(window).height())}t.layers.children("div").width("100%").height("100%");if(t.fullscreenBtn){t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen")}t.setControlsSize();t.isFullScreen=true},exitFullScreen:function(){var t=this;clearTimeout(t.containerSizeTimeout);if(t.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox){t.media.setFullscreen(false);return}if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)){mejs.MediaFeatures.cancelFullScreen()}e(document.documentElement).removeClass("mejs-fullscreen");t.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(t.media.pluginType==="native"){t.$media.width(normalWidth).height(normalHeight)}else{t.container.find(".mejs-shim").width(normalWidth).height(normalHeight);t.media.setVideoSize(normalWidth,normalHeight)}t.layers.children("div").width(normalWidth).height(normalHeight);t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");t.setControlsSize();t.isFullScreen=false}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:true,toggleCaptionsButtonWhenOnlyOne:false,slidesSelector:""});e.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(t,n,r,i){if(t.tracks.length==0)return;var s=this,o,u="";if(s.domNode.textTracks){for(var o=s.domNode.textTracks.length-1;o>=0;o--){s.domNode.textTracks[o].mode="hidden"}}t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(r).hide();t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(r).hide();t.captionsText=t.captions.find(".mejs-captions-text");t.captionsButton=e('<div class="mejs-button mejs-captions-button">'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.tracksText+'" aria-label="'+s.options.tracksText+'"></button>'+'<div class="mejs-captions-selector">'+"<ul>"+"<li>"+'<input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" />'+'<label for="'+t.id+'_captions_none">'+mejs.i18n.t("None")+"</label>"+"</li>"+"</ul>"+"</div>"+"</div>").appendTo(n);var a=0;for(o=0;o<t.tracks.length;o++){if(t.tracks[o].kind=="subtitles"){a++}}if(s.options.toggleCaptionsButtonWhenOnlyOne&&a==1){t.captionsButton.on("click",function(){if(t.selectedTrack==null){var e=t.tracks[0].srclang}else{var e="none"}t.setTrack(e)})}else{t.captionsButton.hover(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")},function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value;t.setTrack(lang)})}if(!t.options.alwaysShowControls){t.container.bind("controlsshown",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){if(!i.paused){t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}})}else{t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}t.trackToLoad=-1;t.selectedTrack=null;t.isLoadingTrack=false;for(o=0;o<t.tracks.length;o++){if(t.tracks[o].kind=="subtitles"){t.addTrackButton(t.tracks[o].srclang,t.tracks[o].label)}}t.loadNextTrack();i.addEventListener("timeupdate",function(e){t.displayCaptions()},false);if(t.options.slidesSelector!=""){t.slidesContainer=e(t.options.slidesSelector);i.addEventListener("timeupdate",function(e){t.displaySlides()},false)}i.addEventListener("loadedmetadata",function(e){t.displayChapters()},false);t.container.hover(function(){if(t.hasChapters){t.chapters.css("visibility","visible");t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight())}},function(){if(t.hasChapters&&!i.paused){t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden");e(this).css("display","block")})}});if(t.node.getAttribute("autoplay")!==null){t.chapters.css("visibility","hidden")}},setTrack:function(e){var t=this,n;if(e=="none"){t.selectedTrack=null;t.captionsButton.removeClass("mejs-captions-enabled")}else{for(n=0;n<t.tracks.length;n++){if(t.tracks[n].srclang==e){if(t.selectedTrack==null)t.captionsButton.addClass("mejs-captions-enabled");t.selectedTrack=t.tracks[n];t.captions.attr("lang",t.selectedTrack.srclang);t.displayCaptions();break}}}},loadNextTrack:function(){var e=this;e.trackToLoad++;if(e.trackToLoad<e.tracks.length){e.isLoadingTrack=true;e.loadTrack(e.trackToLoad)}else{e.isLoadingTrack=false;e.checkForTracks()}},loadTrack:function(t){var n=this,r=n.tracks[t],i=function(){r.isLoaded=true;n.enableTrackButton(r.srclang,r.label);n.loadNextTrack()};e.ajax({url:r.src,dataType:"text",success:function(e){if(typeof e=="string"&&/<tt\s+xml/ig.exec(e)){r.entries=mejs.TrackFormatParser.dfxp.parse(e)}else{r.entries=mejs.TrackFormatParser.webvvt.parse(e)}i();if(r.kind=="chapters"){n.media.addEventListener("play",function(e){if(n.media.duration>0){n.displayChapters(r)}},false)}if(r.kind=="slides"){n.setupSlides(r)}},error:function(){n.loadNextTrack()}})},enableTrackButton:function(t,n){var r=this;if(n===""){n=mejs.language.codes[t]||t}r.captionsButton.find("input[value="+t+"]").prop("disabled",false).siblings("label").html(n);if(r.options.startLanguage==t){e("#"+r.id+"_captions_"+t).click()}r.adjustLanguageBox()},addTrackButton:function(t,n){var r=this;if(n===""){n=mejs.language.codes[t]||t}r.captionsButton.find("ul").append(e("<li>"+'<input type="radio" name="'+r.id+'_captions" id="'+r.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" />'+'<label for="'+r.id+"_captions_"+t+'">'+n+" (loading)"+"</label>"+"</li>"));r.adjustLanguageBox();r.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+e.captionsButton.find(".mejs-captions-translations").outerHeight(true))},checkForTracks:function(){var e=this,t=false;if(e.options.hideCaptionsButtonWhenEmpty){for(i=0;i<e.tracks.length;i++){if(e.tracks[i].kind=="subtitles"){t=true;break}}if(!t){e.captionsButton.hide();e.setControlsSize()}}},displayCaptions:function(){if(typeof this.tracks=="undefined")return;var e=this,t,n=e.selectedTrack;if(n!=null&&n.isLoaded){for(t=0;t<n.entries.times.length;t++){if(e.media.currentTime>=n.entries.times[t].start&&e.media.currentTime<=n.entries.times[t].stop){e.captionsText.html(n.entries.text[t]);e.captions.show().height(0);return}}e.captions.hide()}else{e.captions.hide()}},setupSlides:function(e){var t=this;t.slides=e;t.slides.entries.imgs=[t.slides.entries.text.length];t.showSlide(0)},showSlide:function(t){if(typeof this.tracks=="undefined"||typeof this.slidesContainer=="undefined"){return}var n=this,r=n.slides.entries.text[t],i=n.slides.entries.imgs[t];if(typeof i=="undefined"||typeof i.fadeIn=="undefined"){n.slides.entries.imgs[t]=i=e('<img src="'+r+'">').on("load",function(){i.appendTo(n.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()})}else{if(!i.is(":visible")&&!i.is(":animated")){i.fadeIn().siblings(":visible").fadeOut()}}},displaySlides:function(){if(typeof this.slides=="undefined")return;var e=this,t=e.slides,n;for(n=0;n<t.entries.times.length;n++){if(e.media.currentTime>=t.entries.times[n].start&&e.media.currentTime<=t.entries.times[n].stop){e.showSlide(n);return}}},displayChapters:function(){var e=this,t;for(t=0;t<e.tracks.length;t++){if(e.tracks[t].kind=="chapters"&&e.tracks[t].isLoaded){e.drawChapters(e.tracks[t]);e.hasChapters=true;break}}},drawChapters:function(t){var n=this,r,i,s=0,o=0;n.chapters.empty();for(r=0;r<t.entries.times.length;r++){i=t.entries.times[r].stop-t.entries.times[r].start;s=Math.floor(i/n.media.duration*100);if(s+o>100||r==t.entries.times.length-1&&s+o<100){s=100-o}n.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[r].start+'" style="left: '+o.toString()+"%;width: "+s.toString()+'%;">'+'<div class="mejs-chapter-block'+(r==t.entries.times.length-1?" mejs-chapter-block-last":"")+'">'+'<span class="ch-title">'+t.entries.text[r]+"</span>"+'<span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[r].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[r].stop)+"</span>"+"</div>"+"</div>"));o+=s}n.chapters.find("div.mejs-chapter").click(function(){n.media.setCurrentTime(parseFloat(e(this).attr("rel")));if(n.media.paused){n.media.play()}});n.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){var n=0,r=mejs.TrackFormatParser.split2(t,/\r?\n/),i={text:[],times:[]},s,o;for(;n<r.length;n++){if(this.pattern_identifier.exec(r[n])){n++;s=this.pattern_timecode.exec(r[n]);if(s&&n<r.length){n++;o=r[n];n++;while(r[n]!==""&&n<r.length){o=o+"\n"+r[n];n++}o=e.trim(o).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");i.text.push(o);i.times.push({start:mejs.Utility.convertSMPTEtoSeconds(s[1])==0?.2:mejs.Utility.convertSMPTEtoSeconds(s[1]),stop:mejs.Utility.convertSMPTEtoSeconds(s[3]),settings:s[5]})}}}return i}},dfxp:{parse:function(t){t=e(t).filter("tt");var n=0,r=t.children("div").eq(0),i=r.find("p"),s=t.find("#"+r.attr("style")),o,u,a,f,l={text:[],times:[]};if(s.length){var c=s.removeAttr("id").get(0).attributes;if(c.length){o={};for(n=0;n<c.length;n++){o[c[n].name.split(":")[1]]=c[n].value}}}for(n=0;n<i.length;n++){var h;var p={start:null,stop:null,style:null};if(i.eq(n).attr("begin"))p.start=mejs.Utility.convertSMPTEtoSeconds(i.eq(n).attr("begin"));if(!p.start&&i.eq(n-1).attr("end"))p.start=mejs.Utility.convertSMPTEtoSeconds(i.eq(n-1).attr("end"));if(i.eq(n).attr("end"))p.stop=mejs.Utility.convertSMPTEtoSeconds(i.eq(n).attr("end"));if(!p.stop&&i.eq(n+1).attr("begin"))p.stop=mejs.Utility.convertSMPTEtoSeconds(i.eq(n+1).attr("begin"));if(o){h="";for(var d in o){h+=d+":"+o[d]+";"}}if(h)p.style=h;if(p.start==0)p.start=.2;l.times.push(p);f=e.trim(i.eq(n).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");l.text.push(f);if(l.times.start==0)l.times.start=2}return l}},split2:function(e,t){return e.split(t)}};if("x\n\ny".split(/\n/gi).length!=3){mejs.TrackFormatParser.split2=function(e,t){var n=[],r="",i;for(i=0;i<e.length;i++){r+=e.substring(i,i+1);if(t.test(r)){n.push(r.replace(t,""));r=""}}n.push(r);return n}}})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){if(typeof e.enterFullScreen=="undefined")return null;if(e.isFullScreen){return mejs.i18n.t("Turn off Fullscreen")}else{return mejs.i18n.t("Go Fullscreen")}},click:function(e){if(e.isFullScreen){e.exitFullScreen()}else{e.enterFullScreen()}}},{render:function(e){if(e.media.muted){return mejs.i18n.t("Unmute")}else{return mejs.i18n.t("Mute")}},click:function(e){if(e.media.muted){e.setMuted(false)}else{e.setMuted(true)}}},{isSeparator:true},{render:function(e){return mejs.i18n.t("Download Video")},click:function(e){window.location.href=e.media.currentSrc}}]});e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t,n,r,i){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide();t.container.bind("contextmenu",function(e){if(t.isContextMenuEnabled){e.preventDefault();t.renderContextMenu(e.clientX-1,e.clientY-1);return false}});t.container.bind("click",function(){t.contextMenu.hide()});t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},cleancontextmenu:function(e){e.contextMenu.remove()},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer();e.contextMenuTimer=setTimeout(function(){e.hideContextMenu();e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;if(e!=null){clearTimeout(e);delete e;e=null}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,n){var r=this,i="",s=r.options.contextMenuItems;for(var o=0,u=s.length;o<u;o++){if(s[o].isSeparator){i+='<div class="mejs-contextmenu-separator"></div>'}else{var a=s[o].render(r);if(a!=null){i+='<div class="mejs-contextmenu-item" data-itemindex="'+o+'" id="element-'+Math.random()*1e6+'">'+a+"</div>"}}}r.contextMenu.empty().append(e(i)).css({top:n,left:t}).show();r.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),n=parseInt(t.data("itemindex"),10),i=r.options.contextMenuItems[n];if(typeof i.show!="undefined")i.show(t,r);t.click(function(){if(typeof i.click!="undefined")i.click(r);r.contextMenu.hide()})});setTimeout(function(){r.killControlsTimer("rev3")},100)}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")});e.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,n,r,i){var s=this,o=s.container.find('link[rel="postroll"]').attr("href");if(typeof o!=="undefined"){t.postroll=e('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+s.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(r).hide();s.media.addEventListener("ended",function(n){e.ajax({dataType:"html",url:o,success:function(e,t){r.find(".mejs-postroll-layer-content").html(e)}});t.postroll.show()},false)}}})})(mejs.$)